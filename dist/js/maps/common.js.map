{"version":3,"file":"../common.js","names":["ANI_TIME_300","INTERVAL_1","INTERVAL_100","INTERVAL_1000","SHOW_HEADER_NUM","SCROLL_TIME","INVERTED","IPOPUP","iModal","mAlert","mHeader","iFull","fLayer","fFooter","IACCORDION","iAll","iOne","ACC_ALT_TXT","open","close","elTopArr","elTopRes","elemLenCheck","_el","okEl","length","i","document","querySelectorAll","addEventListener","event","target","readyState","commonInit","containerHidden","_state","GNB_CONTAINER_EL","getElementById","setAttribute","OPEN_POPUPS","rtime","timeout","DELTA","window","Date","setTimeout","resizeend","fullPopupState","modalHeaderPopupShadow","fullPopupResizeScrollbar","containerResizeScrollbar","containerResizeFloatingBtn","GNB_ELEM","gnbComn","_gnbEl","NAV_INIT","querySelector","popupStyle","GNB_BG_INIT","NAV","gnbClickEvent","_navEl","GNB_CLOSE_BTN","GNB_BG","GNB_ACC","navComnEvent","focus","navCloseEvent","_bgEl","classList","contains","add","_gnbBgEl","_gnbCloseBtn","_gnbAcc","GNB_CLOSE_ARR","remove","navTimeoutEvent","accordionAllClose","TAB_EL","tabCommonEvent","_elem","tabClickListAllShow","tabBarAnimation","tabEl","j","tabClickCheck","_wrap","_j","ipt","ipt_checked","tabClickEvent","_ipt","_ipt_checked","tabAltTxtInit","tabState","tabStateCheck","tabStateMove","tabScrollEvt","tagName","parentElement","checked","tabClickComn","_tabState","FOCUS_INPUT","clkElClickPopupChk","altEl","applyTabAltText","tabStatePanel","tabStateScroll","tabStateClick","closest","tabBarTouchAnimation","centerType","tabCenterCheck","tabCenterEvent","tabCase","_tabEl","A_TAG_CHECK","tabCenterState","altElBefore","createElement","innerText","insertBefore","HTMLElement","prototype","index","self","parentNode","parent","previousElementSibling","children","indexRes","Number","k","_tabWrap","SCROLL_WRAP","tabCenterComnEvent","_scrollWrap","tabLeft","offsetLeft","tabStyle","currentStyle","getComputedStyle","tabPadRes","parseInt","paddingLeft","paddingRight","tabWidth","clientWidth","tabDiff","scroll","left","behavior","TAB_LI_ELEM","aniEl","tabBarAnimationComn","_tabLiEl","_i","tab_chked_ipt","el","prefix","classes","className","split","filter","c","lastIndexOf","join","trim","idx","Array","indexOf","call","tabList","tabWrap","tabListEl","push","getAttribute","tabStatePanelEvent","AC","activeAC","tabAccInit","_tabList","panelEl","_panelEl","ACC_EL","ACC_HEADER","ACC_BODY","style","maxHeight","scrollHeight","tabAccClickEvt","_accEl","_accHead","_accBody","e","accordionType","accordionTypeCheck","bodyHeight","accButtonClickEvtComn","popHasElem","clkElClickPopupChkFull","clkElClickPopupChkFullFooter","_popHasElem","TAB_POP_BODY_EL","TAB_POP_CONT_EL","TAB_POP_BTN_EL","fullPopupScrollHeightCheck","TAB_POP_BTN_ELEM","fullPopupScrollHeightChk","TAB_ONE_WRAP","tabStateClickAraiControls","DATA_CASE","dataset","case","DATA_TAB_LIST","DATA_VIEW","DATA_WRAP","DATA_LIST","DATA_NULL_DATA","tablist","DATA_NULL_WRAP","DATA_NULL_LIST","TAB_ONE_TAB","onetab","TAB_ONE_PANEL","ONE_TARGET_TAB","TAB_WRAP","tabStateMoveConm","TAB_MOVE_LIST","tabStateMoveConmEvt","_tabMoveList","activeTab","moveTabActivity","_tab","TAB_WRAP_NAME","TAB_ATTR","moveTabActivityComn","_tabWrapName","_tabAttr","PANEL_SELECTOR","moveTabCenterScroll","_scrollBody","_activeEl","moveTabCenterScrollComn","dataTabList","DATA_TAB_PANEL","PANEL_VIEW_LIST","POPUP_ELEM","POPUP_BTN_ELEM","popupOpenEvent","_btnElem","OPENSTATE_POPUP","TARGET","CURRENT_POPUP","popupState","popupStateCheck","btnArr","map","focusFirstBtn","popupModalHeader","popupScrollTabCase","popupScrollCase","_popState","popCase","top","zIndex","visibility","innerHeight","popupBgClickEvt","POPUP_BG_ELEM","fullTabScrollChk","F_CONTAINER","F_Tab","F_HEADER","F_BODY","fullTabScrollEvt","_container","_header","_body","headerHeight","clientHeight","lastScrollTop","scrollArr","isScrolling","CONT_BOX","TIT","contBoxStyle","contBoxStyleRes","paddingTop","scrollRes","scrollTop","st","pageYOffset","console","log","clearTimeout","Math","max","apply","min","fullScrollChk","fullFooterScrollCheck","customScrollbar","F_BUTTON","fullScrollEvt","_fBtn","offsetHeight","fullScrollEvtInit","SCROLL_BODY","fullScrollEvtScroll","FF_CONTAINER","FF_HEADER","FF_BODY","FF_BUTTON","FF_FOOTER","fullFooterScrollEvent","fullNoFooterScrollEvent","_popEl","_footer","cHeight","hHeight","bHeight","fHeight","hRes","_btnEl","btnHeight","fullFooterScrollEndEvent","_scrollContainer","_buttonEl","_footerEl","scrollRight","scrollResUp","_popupEl","popupModalHeaderScroll","popupModalHFFixedScroll","SCROLL_ELEM","POP_HEADER","popupModalHeaderScrollEvt","SCROLL_ELEM2","SCROLL_ELEM2_BODY","POP_HEADER2","_scrollEl","_popHeader","POPUP_CLOSE_ELEM","popupCloseComn","_popupCloseEl","CLOSESTATE_POPUP","popupCloseTimeout","_target","focusCloseState","FOCUS_ELEM","id","focus_el","Object","FULL_POP_ELEM","_type","FULL_CONTAINER","FULL_HEADER","FULL_BODY","FULL_FOOTER","fullResizeEvent","bStyle","bhInit","paddingBottom","MODAL_HEADER_POPUP","FULL_POPUP","popupDirectClick","_popupBtnEl","ACCORDION_ELEM","accordionAltTxt","accordionAccessibility","BTN_OPEN","accButtonClickEvent","altElTxt","header","accTit","innerHTML","accordionAltTxtTouch","_altEl","_accWrap","_accType","accBodyEl","onclick","_e","_accBodyEl","_bodyHeight","accButtonTypeOneOpen","accButtonOpenClose","CONTAINER_EL","scrollTopFake","accButtonTypeOneOpenAllClose","ACC_WRAP","accOneList","TERMS_ELEM","termsComn","TERMS_INNER","termsInner","_inner","temrsRow","_row","TERMS_ROW","termsAppend","_rowEl","scrollEl","scrollInner","appendChild","termsScrollEvent","_scrollElem","TEXTAREA_ELEM","textareaComn","textareaScrollbar","INPUT_ELEM","inputComn","inputTypeState","inputTypeCase","inputFocusEvent","_input","inputCase","type","_inputEl","_inputState","inputFocusEvtComn","inputFocusEvtFloating","inputFocusEvtModal","elTop","elTopElem","offsetTop","PARENT_EL_FULL","PARENT_EL_HEADER","PARENT_EL_MODAL","MODAL_INNER","MODAL_HEADER","floatinPopup","floatingContainer","floatingBtn","inputFocusEvtFloatingBtn","_floatinPopup","_floatingContainer","_floatingBtn","CONTAINER_ELEM","FLEX_ELEM","MOVE_HEADER","containerScrollEvent","containerTabScrollEvent","_moveHeader","BTN_BOTTOM_FLOATING","CONTAINER_FOOTER","FLOATING_BLOCK_ARR","MARGIN_EL","previousSibling","marginBottom","blockEl","floatingBtnComn","MOVE_TOP_BTN_ELEM","scrollingFloatingBtn","floatingBtnInner","_this","S_HEADER","S_BTN","sort","a","b","ceil","CONTAINER_HEADER","CONTAINER_BTN","lRes","rRes","BTN_MOVE_TOP_ELEM","SCROLLING_ELEM","scrollToItemId","containerId","scrollContainer","from","by","currentIteration","animIterations","round","value","easeOutCubic","requestAnimationFrame","linearEase","startValue","changeInValue","totalIterations","pow","STICKYELM","tabOffsetTop","stickyElComn","_top","tabOffsetTopScroll","scrollElHeight","parseFloat","scrollStyleTop","innerStyleHeight","innerStyleHeightFull","innerStyleHeightFooter","scrollElHeightCon","innerStyleHeightCon","scrollDesignPopModalHeader","scrollDesignPopFullLayer","scrollDesignPopFullFooter","scrollDesignContainer","CUSTOMER_SCROLL","CUSTOMER_SCROLL_INNER","addStyle","scrollbarCreate","POPUP_SCROLL_ELEM","POPUP_HEADER","POPUP_BODY","fullLayerScrollbarComn","modalHeaderScrollbarComn","scrollDesignPopModalHeaderFooter","_scrollInner","_popScrollEl","height","scrollDesignScrollEvt","_sclBody","_sclBar","_sclThum","sclBarTop"],"sources":["common.js"],"sourcesContent":["'use strict';\r\n\r\n// = Common\r\n\r\n/**\r\n * common variable\r\n */\r\n// animation time\r\nconst ANI_TIME_300 = 301;\r\n\r\n// interval time\r\nconst INTERVAL_1 = 1;\r\nconst INTERVAL_100 = 100;\r\nconst INTERVAL_1000 = 1000;\r\n\r\n// scroll\r\nconst SHOW_HEADER_NUM = 100; // 이 숫자만큼 스크롤을 올려야 .co-header가 보임\r\nconst SCROLL_TIME = 0.5; // 초(second), 이 숫자만큼의 스피드로 scroll top 이동\r\nconst INVERTED = 55;\r\n\r\n/**\r\n * common interface\r\n */\r\n// POPUP\r\nconst IPOPUP = {\r\n  iModal: {\r\n    mAlert: 'mAlert',\r\n    mHeader: 'mHeader',\r\n  },\r\n  iFull: {\r\n    fLayer: 'fLayer',\r\n    fFooter: 'fFooter',\r\n  },\r\n};\r\n// ACCORDION\r\nconst IACCORDION = {\r\n  iAll: 'iAll',\r\n  iOne: 'iOne',\r\n};\r\nconst ACC_ALT_TXT = {\r\n  open: '버튼확장됨축소하려면이중탭하십시요',\r\n  close: '버튼축소됨확장하려면이중탭하십시요',\r\n};\r\n// container\r\nlet elTopArr = [];\r\nlet elTopRes = 0;\r\n\r\n/**\r\n * HTML element length check\r\n */\r\nfunction elemLenCheck(..._el) {\r\n  let okEl = 1;\r\n  if (_el.length > 0) {\r\n    for (let i = 0; i < _el.length; i++) {\r\n      if (document.querySelectorAll(_el[i]).length > 0) {\r\n        okEl += 1;\r\n        if (okEl === _el.length) {\r\n          okEl = 0;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * load event\r\n */\r\ndocument.addEventListener('readystatechange', (event) => {\r\n  // does same as:  ..addEventListener(\"DOMContentLoaded\"..\r\n  // When HTML/DOM elements are ready:\r\n  if (event.target.readyState === 'interactive') {\r\n  }\r\n\r\n  // When window loaded ( external resources are loaded too- css, src, etc...)\r\n  if (event.target.readyState === 'complete') {\r\n    commonInit();\r\n  }\r\n});\r\n\r\n/**\r\n * 접근성 공통\r\n */\r\n// #container -> aria-hidden: true || false\r\nfunction containerHidden(_state) {\r\n  const GNB_CONTAINER_EL = document.getElementById('container');\r\n  if (GNB_CONTAINER_EL) {\r\n    if (_state) {\r\n      GNB_CONTAINER_EL.setAttribute('aria-hidden', true);\r\n    } else {\r\n      let OPEN_POPUPS = document.querySelectorAll('.kmi-popup.show');\r\n      if (OPEN_POPUPS.length == 0) GNB_CONTAINER_EL.setAttribute('aria-hidden', false);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * common function\r\n */\r\nfunction commonInit() {\r\n  /**\r\n   * resize event\r\n   */\r\n  let rtime;\r\n  let timeout = false;\r\n  const DELTA = 10;\r\n  window.addEventListener('resize', function () {\r\n    rtime = new Date();\r\n    if (timeout === false) {\r\n      timeout = true;\r\n      setTimeout(resizeend, DELTA);\r\n    }\r\n  });\r\n  function resizeend() {\r\n    if (new Date() - rtime < DELTA) {\r\n      setTimeout(resizeend, DELTA);\r\n    } else {\r\n      timeout = false;\r\n      // resize end\r\n      // full popup이 있을 경우 하단 버튼 scroll 체크\r\n      fullPopupState();\r\n\r\n      // modal header popup: header shadow\r\n      modalHeaderPopupShadow();\r\n\r\n      // full layer popup: resize scrollbar\r\n      fullPopupResizeScrollbar();\r\n\r\n      // container resize scrollbar\r\n      containerResizeScrollbar();\r\n\r\n      // container resize bottom floating button\r\n      containerResizeFloatingBtn();\r\n    }\r\n  }\r\n  /**\r\n   * GNB\r\n   */\r\n  const GNB_ELEM = document.querySelectorAll('.btn-open-gnb');\r\n  if (GNB_ELEM.length > 0) for (let i = 0; i < GNB_ELEM.length; i++) gnbComn(GNB_ELEM[i]);\r\n\r\n  // + gnb common event\r\n  function gnbComn(_gnbEl) {\r\n    _gnbEl.setAttribute('aria-expanded', false);\r\n\r\n    const NAV_INIT = document.querySelector('.co-gnb');\r\n    if (NAV_INIT) {\r\n      popupStyle(NAV_INIT, 'hide');\r\n      NAV_INIT.setAttribute('aria-hidden', true);\r\n      const GNB_BG_INIT = NAV_INIT.querySelector('.gnb-bg');\r\n      if (GNB_BG_INIT) popupStyle(GNB_BG_INIT, 'hide');\r\n    }\r\n\r\n    _gnbEl.addEventListener('click', () => {\r\n      _gnbEl.setAttribute('aria-expanded', true);\r\n\r\n      const NAV = document.querySelector('.co-gnb');\r\n      if (NAV) gnbClickEvent(NAV, _gnbEl);\r\n    });\r\n  }\r\n  // + gnb open button click event\r\n  function gnbClickEvent(_navEl, _gnbEl) {\r\n    _navEl.setAttribute('aria-hidden', false);\r\n\r\n    const GNB_CLOSE_BTN = _navEl.querySelector('.btn-close-gnb');\r\n    const GNB_BG = _navEl.querySelector('.gnb-bg');\r\n    const GNB_ACC = _navEl.querySelectorAll('.accordion');\r\n\r\n    if (GNB_CLOSE_BTN && GNB_BG && GNB_ACC.length > 0) {\r\n      navComnEvent(_navEl, GNB_BG);\r\n\r\n      setTimeout(() => {\r\n        GNB_CLOSE_BTN.focus();\r\n      }, INTERVAL_1);\r\n\r\n      // 전체메뉴 닫기\r\n      navCloseEvent(_navEl, _gnbEl, GNB_BG, GNB_CLOSE_BTN, GNB_ACC);\r\n    }\r\n  }\r\n  // + gnb 공통 event\r\n  function navComnEvent(_navEl, _bgEl) {\r\n    if (!_navEl.classList.contains('show')) {\r\n      popupStyle(_navEl, 'show');\r\n      popupStyle(_bgEl, 'show');\r\n      _navEl.classList.add('show');\r\n\r\n      containerHidden(true);\r\n    }\r\n  }\r\n  // + 전체메뉴 닫기\r\n  function navCloseEvent(_navEl, _gnbEl, _gnbBgEl, _gnbCloseBtn, _gnbAcc) {\r\n    const GNB_CLOSE_ARR = [_gnbBgEl, _gnbCloseBtn];\r\n    for (let i = 0; i < GNB_CLOSE_ARR.length; i++) {\r\n      GNB_CLOSE_ARR[i].addEventListener(\r\n        'click',\r\n        () => {\r\n          _navEl.setAttribute('aria-hidden', true);\r\n\r\n          _navEl.classList.remove('show');\r\n          _gnbEl.setAttribute('aria-expanded', false);\r\n\r\n          containerHidden(false);\r\n\r\n          navTimeoutEvent(_navEl, _gnbBgEl, _gnbAcc, _gnbEl);\r\n        },\r\n        false\r\n      );\r\n    }\r\n  }\r\n  // + 전체메뉴 닫은 후 setTimeout Event\r\n  function navTimeoutEvent(_navEl, _gnbBgEl, _gnbAcc, _gnbEl) {\r\n    setTimeout(() => {\r\n      popupStyle(_navEl, 'hide');\r\n      popupStyle(_gnbBgEl, 'hide');\r\n      // close Allaccordion\r\n      accordionAllClose(_gnbAcc);\r\n      setTimeout(() => {\r\n        _gnbEl.focus();\r\n      }, INTERVAL_1);\r\n    }, ANI_TIME_300);\r\n  }\r\n\r\n  /**\r\n   * tab\r\n   */\r\n  const TAB_EL = document.querySelectorAll('ul.c-tab');\r\n  if (TAB_EL.length > 0) for (let i = 0; i < TAB_EL.length; i++) tabCommonEvent(TAB_EL[i]);\r\n\r\n  // tabCommonEvent\r\n  function tabCommonEvent(_elem) {\r\n    // panel 내용이 바뀌는 방식의 tab 일 경우\r\n    // 탭과 연동된 tab-click-list 모두 보임\r\n    tabClickListAllShow(_elem);\r\n\r\n    // 탭의 하단 bar가 animation되는 경우\r\n    if (_elem.classList.contains('type-basic')) tabBarAnimation(_elem);\r\n\r\n    let tabEl = _elem.querySelectorAll('li');\r\n    if (tabEl.length > 0) for (let j = 0; j < tabEl.length; j++) tabClickCheck(_elem, tabEl[j], j);\r\n  }\r\n  // + tab click check\r\n  function tabClickCheck(_wrap, _elem, _j) {\r\n    let ipt = _elem.querySelector('input[type=\"radio\"]') || _elem.querySelector('a.tab');\r\n    let ipt_checked = _elem.querySelector('input[type=\"radio\"]:checked') || _elem.querySelector('a.tab.active');\r\n    if (ipt) tabClickEvent(_wrap, ipt, _elem, _j, ipt_checked);\r\n  }\r\n  // ++ tab Click Event\r\n  function tabClickEvent(_wrap, _ipt, _elem, _j, _ipt_checked) {\r\n    tabAltTxtInit(_elem, _ipt, _ipt_checked);\r\n\r\n    let tabState = tabStateCheck(_wrap);\r\n\r\n    // panel 내용이 바뀌는 방식의 tab 일 경우 + scroll Type\r\n    if (_wrap.classList.contains('type-move')) {\r\n      setTimeout(() => {\r\n        tabStateMove(_elem);\r\n      }, INTERVAL_1);\r\n    }\r\n    // [Mod [230220]]\r\n    if (_wrap.classList.contains('type-scroll')) {\r\n      setTimeout(() => {\r\n        tabScrollEvt();\r\n      }, INTERVAL_1);\r\n    }\r\n    // talkback event listener\r\n    // + 탭 터치 event\r\n    if (_ipt.tagName !== 'A' && _ipt.tagName !== 'a') {\r\n      _ipt.parentElement.addEventListener('click', () => {\r\n        _ipt.checked = true;\r\n        tabClickComn(_wrap, _elem, _ipt, tabState, _j);\r\n      });\r\n    } else {\r\n      _ipt.addEventListener('click', () => {\r\n        tabClickComn(_wrap, _elem, _ipt, tabState, _j);\r\n      });\r\n    }\r\n  }\r\n  // ++ tab click common\r\n  function tabClickComn(_wrap, _elem, _ipt, _tabState, _j) {\r\n    // focus 제거\r\n    const FOCUS_INPUT = document.querySelectorAll('.input-focus');\r\n    if (FOCUS_INPUT.length > 0) for (let i = 0; i < FOCUS_INPUT.length; i++) FOCUS_INPUT[i].classList.remove('input-focus');\r\n\r\n    setTimeout(() => {\r\n      clkElClickPopupChk(_elem);\r\n    }, INTERVAL_1);\r\n\r\n    // 대체텍스트 적용\r\n    if (_ipt.tagName !== 'A' && _ipt.tagName !== 'a') {\r\n      let altEl = _wrap.querySelectorAll('.alt-txt');\r\n      if (altEl.length > 0) applyTabAltText(_ipt, altEl, _j);\r\n    }\r\n    // hide / show 방식의 tab 일 경우\r\n    if (_tabState === 'hide-type') tabStatePanel(_elem);\r\n    // scroll 방식의 tab 일 경우\r\n    if (_tabState === 'scroll-type') tabStateScroll(_elem);\r\n    // panel 내용이 바뀌는 방식의 tab 일 경우\r\n    if (_tabState === 'click-type') tabStateClick(_elem);\r\n\r\n    // tab터치 시 tab의 하단 bar가 animation되는 경우\r\n    if (_ipt.closest('.c-tab').classList.contains('type-basic')) tabBarTouchAnimation(_elem);\r\n\r\n    // center 정렬 필요한 tab\r\n    let centerType = tabCenterCheck(_wrap);\r\n    if (centerType) tabCenterEvent(_wrap, _elem);\r\n  }\r\n  // +++ 탭 종류 체크\r\n  function tabStateCheck(_tabState) {\r\n    let tabCase = _tabState.classList;\r\n\r\n    // 탭 터치 시 페이지 이동되는 경우\r\n    if (tabCase.contains('type-move')) return 'move-type';\r\n    // 탭 터치 시 스크롤 되는 경우: scroll-type\r\n    if (tabCase.contains('type-scroll')) return 'scroll-type';\r\n    // 탭 터치 시 panel이 hide/show 되는 경우: hide-type\r\n    if (tabCase.contains('type-panel')) return 'hide-type';\r\n    // 탭 터치 시 panel안의 내용이 바뀌는 경우\r\n    if (tabCase.contains('type-click')) return 'click-type';\r\n  }\r\n  // +++ 탭 터치 시 center 정렬 필요한 경우\r\n  function tabCenterCheck(_tabEl) {\r\n    // a tag tab일 경우 실행 안함\r\n    const A_TAG_CHECK = _tabEl.querySelectorAll('li a');\r\n    if (A_TAG_CHECK.length > 0) return false;\r\n\r\n    let tabCenterState = _tabEl.classList;\r\n    if (tabCenterState.contains('type-basic') || tabCenterState.contains('type-move')) return false;\r\n    return true;\r\n  }\r\n  // +++ 터치 전 대체텍스트 적용 - 선택됨, 선택안됨\r\n  function tabAltTxtInit(_elem, _ipt, _ipt_checked) {\r\n    let altElBefore = document.createElement('span');\r\n    altElBefore.classList.add('alt-txt');\r\n    if (_ipt.tagName == 'A') {\r\n      if (_elem.closest('.c-tab').classList.contains('type-step')) {\r\n        altElBefore.innerText = '선택안됨페이지이동안됨이중탭하면팝업열림';\r\n        if (_ipt.classList.contains('active')) _ipt.setAttribute('title', '기능없는버튼');\r\n        else _ipt.setAttribute('title', '팝업열림');\r\n      } else {\r\n        altElBefore.innerText = '선택안됨이중탭시페이지이동';\r\n        if (_ipt.classList.contains('active')) _ipt.setAttribute('title', '기능없는버튼');\r\n        else _ipt.setAttribute('title', '페이지이동');\r\n      }\r\n    } else {\r\n      altElBefore.innerText = '선택안됨';\r\n    }\r\n\r\n    // if (_ipt.classList.contains('is-disable')) altElBefore.innerText = '선택안됨비활성화됨';\r\n    if (_ipt.classList.contains('is-disable')) {\r\n      altElBefore.innerText = '이중탭하면팝업열림';\r\n      _ipt.setAttribute('title', '팝업열림');\r\n    }\r\n\r\n    if (_ipt.classList.contains('is-save-data')) {\r\n      altElBefore.innerText = '이중탭하면페이지이동';\r\n      _ipt.setAttribute('title', '페이지이동');\r\n    }\r\n    _elem.insertBefore(altElBefore, _ipt);\r\n    if (_ipt_checked) _ipt_checked.parentElement.querySelector('.alt-txt').innerText = '선택됨';\r\n  }\r\n  // +++ 터치 시 대체텍스트 적용 - 선택됨, 선택안됨\r\n  function applyTabAltText(_ipt, _elem, _j) {\r\n    HTMLElement.prototype.index = function () {\r\n      let self = this.parentNode;\r\n      let parent = self.parentNode;\r\n      let i = 0;\r\n      while (self.previousElementSibling) {\r\n        i++;\r\n        self = self.previousElementSibling;\r\n      }\r\n      return this.parentNode === parent.children[i] ? i : -1;\r\n    };\r\n    let indexRes = Number(_ipt.index() - 1);\r\n    if (_ipt.closest('.c-tab').querySelector('.ico-plus')) {\r\n      // 탭 제일 왼쪽에 +버튼이 있는 경우\r\n      for (let k = 0; k < _elem.length; k++) _elem[k].innerText = '선택안됨';\r\n      _elem[indexRes].innerText = '선택됨';\r\n    } else {\r\n      for (let k = 0; k < _elem.length; k++) _elem[k].innerText = '선택안됨';\r\n      _elem[_j].innerText = '선택됨';\r\n    }\r\n  }\r\n  // +++ center 정렬 필요한 tab\r\n  function tabCenterEvent(_tabWrap, _tabEl) {\r\n    _tabEl.addEventListener('click', () => {\r\n      const SCROLL_WRAP = _tabEl.parentElement;\r\n      if (SCROLL_WRAP) tabCenterComnEvent(_tabEl, _tabWrap, SCROLL_WRAP);\r\n    });\r\n  }\r\n  // +++ center정렬 common event\r\n  function tabCenterComnEvent(_tabEl, _tabWrap, _scrollWrap) {\r\n    let tabLeft = _tabEl.offsetLeft;\r\n    let tabStyle = _tabWrap.currentStyle || window.getComputedStyle(_tabWrap);\r\n\r\n    let tabPadRes = parseInt(tabStyle.paddingLeft) + parseInt(tabStyle.paddingRight);\r\n    let tabWidth = _scrollWrap.clientWidth - tabPadRes;\r\n    let tabDiff = tabLeft - tabWidth / 2;\r\n    _scrollWrap.scroll({ left: tabDiff, behavior: 'smooth' });\r\n  }\r\n  // +++ tab의 하단 bar가 animation되는 경우\r\n  function tabBarAnimation(_tabWrap) {\r\n    const TAB_LI_ELEM = _tabWrap.querySelectorAll('li');\r\n    let aniEl = 0;\r\n    if (TAB_LI_ELEM.length > 0) {\r\n      for (let i = 0; i < TAB_LI_ELEM.length; i++) aniEl += 1;\r\n      _tabWrap.classList.add('tab-len-' + aniEl);\r\n      aniEl = 0;\r\n\r\n      for (let i = 0; i < TAB_LI_ELEM.length; i++) tabBarAnimationComn(TAB_LI_ELEM[i], i);\r\n    }\r\n  }\r\n  // +++ tabBarAnimation\r\n  function tabBarAnimationComn(_tabLiEl, _i) {\r\n    let tab_chked_ipt = _tabLiEl.querySelector('input[type=\"radio\"]:checked');\r\n    if (tab_chked_ipt) tab_chked_ipt.closest('.c-tab').classList.add('tab-active-' + _i);\r\n  }\r\n  // ++ tab터치 시 tab의 하단 bar가 animation되는 경우\r\n  function tabBarTouchAnimation(_elem) {\r\n    let el = _elem.parentElement;\r\n    let prefix = 'tab-active-';\r\n    let classes = el.className.split(' ').filter(function (c) {\r\n      return c.lastIndexOf(prefix, 0) !== 0;\r\n    });\r\n    el.className = classes.join(' ').trim();\r\n\r\n    let idx = Array.prototype.indexOf.call(el.children, _elem);\r\n    el.classList.add('tab-active-' + idx);\r\n  }\r\n  // +++ hide / show 방식의 tab 일 경우\r\n  function tabStatePanel(_elem) {\r\n    // aria-labelledby element의 removeClass: show\r\n    let tabList = [];\r\n    let tabWrap = _elem.closest('.c-tab');\r\n    let tabListEl = tabWrap.querySelectorAll('[role=\"tab\"]');\r\n    for (let i = 0; i < tabListEl.length; i++) tabList.push(tabListEl[i].getAttribute('aria-controls'));\r\n    if (tabList.length > 0) tabStatePanelEvent(tabList);\r\n\r\n    // 터치한 tab의 aria-controls와 동일한 aria-labelledby에게 addClass: show\r\n    let AC = _elem.getAttribute('aria-controls');\r\n    if (AC) {\r\n      let activeAC = document.querySelector('[aria-labelledby=' + AC + ']');\r\n      if (activeAC) activeAC.classList.add('show');\r\n      // .tabpanel.show에 있는 아코디언\r\n      if (activeAC) tabAccInit(activeAC);\r\n    }\r\n  }\r\n  function tabStatePanelEvent(_tabList) {\r\n    for (let i = 0; i < _tabList.length; i++) {\r\n      let panelEl = document.querySelector('[aria-labelledby=\"' + _tabList[i] + '\"]');\r\n      if (panelEl) if (panelEl.classList.contains('show')) panelEl.classList.remove('show');\r\n    }\r\n  }\r\n  function tabAccInit(_panelEl) {\r\n    if (_panelEl) {\r\n      const ACC_EL = _panelEl.querySelectorAll('.accordion');\r\n      if (ACC_EL.length > 0) {\r\n        for (let i = 0; i < ACC_EL.length; i++) {\r\n          const ACC_HEADER = ACC_EL[i].querySelector('.accordion-header');\r\n          const ACC_BODY = ACC_EL[i].querySelector('.accordion-body');\r\n          if (ACC_BODY && ACC_HEADER) {\r\n            if (ACC_EL[i].classList.contains('open')) ACC_BODY.style.maxHeight = ACC_BODY.scrollHeight + 'px';\r\n            else tabAccClickEvt(ACC_EL[i], ACC_HEADER, ACC_BODY);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  function tabAccClickEvt(_accEl, _accHead, _accBody) {\r\n    _accHead.addEventListener('click', function (e) {\r\n      let accordionType = accordionTypeCheck(_accEl);\r\n      let bodyHeight = _accBody.scrollHeight;\r\n      accButtonClickEvtComn(e, accordionType, _accEl, _accBody, bodyHeight);\r\n    });\r\n  }\r\n  function clkElClickPopupChk(_elem) {\r\n    let popHasElem = _elem.closest('.c-full-layer.show');\r\n    if (popHasElem) {\r\n      if (popHasElem.classList.contains('type-full')) clkElClickPopupChkFull(popHasElem);\r\n      if (popHasElem.classList.contains('type-full-footer')) clkElClickPopupChkFullFooter(popHasElem);\r\n    }\r\n  }\r\n  function clkElClickPopupChkFull(_popHasElem) {\r\n    const TAB_POP_BODY_EL = _popHasElem.querySelector('.full-body');\r\n    const TAB_POP_CONT_EL = _popHasElem.querySelector('.cont-box');\r\n    const TAB_POP_BTN_EL = _popHasElem.querySelector('.btn-floating');\r\n\r\n    if (TAB_POP_BODY_EL) TAB_POP_BODY_EL.classList.add('type-flex');\r\n    if (TAB_POP_CONT_EL) if (TAB_POP_CONT_EL.classList.contains('type-btn-floating')) TAB_POP_BTN_EL.classList.remove('.type-btn-floating');\r\n    if (TAB_POP_BTN_EL) {\r\n      if (TAB_POP_BTN_EL.classList.contains('isScroll')) TAB_POP_BTN_EL.classList.remove('isScroll');\r\n      if (TAB_POP_BTN_EL.classList.contains('isScrollEnd')) TAB_POP_BTN_EL.classList.remove('isScrollEnd');\r\n    }\r\n    fullPopupScrollHeightCheck('full', _popHasElem);\r\n  }\r\n  function clkElClickPopupChkFullFooter(_popHasElem) {\r\n    const TAB_POP_BTN_ELEM = _popHasElem.querySelector('.full-footer');\r\n    if (TAB_POP_BTN_ELEM) if (TAB_POP_BTN_ELEM.classList.contains('scroll')) TAB_POP_BTN_ELEM.classList.remove('scroll');\r\n    fullPopupScrollHeightChk('full-footer', _popHasElem);\r\n  }\r\n  // X XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n  // +++ 팝업에서 tab 터치 시 full 팝업 c-container 높이가 변할 경우\r\n  // function clkElClickPopupCheck(_elem) {\r\n  //   let popHasElem = _elem.closest('.c-full-layer.show');\r\n  //   if (popHasElem) {\r\n  //     const TAB_POP_BTN_ELEM = popHasElem.querySelector('.full-footer');\r\n  //     if (TAB_POP_BTN_ELEM) if (TAB_POP_BTN_ELEM.classList.contains('scroll')) TAB_POP_BTN_ELEM.classList.remove('scroll');\r\n\r\n  //     if (popHasElem.classList.contains('type-full')) fullPopupScrollHeightChk('full', popHasElem);\r\n  //     if (popHasElem.classList.contains('type-full-footer')) fullPopupScrollHeightChk('full-footer', popHasElem);\r\n  //   }\r\n  // }\r\n  // X XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n  // // 사용안함 +++ tab 터치 시 panel의 내용이 바뀌는 방식의 tab 일 경우\r\n  function tabStateClick(_elem) {\r\n    // panel의 aria-labelledby를 터치한 탭의 aria-controls로 변경\r\n    const TAB_ONE_WRAP = _elem.closest('.c-tab');\r\n    if (TAB_ONE_WRAP) tabStateClickAraiControls(TAB_ONE_WRAP);\r\n\r\n    // 사용안함\r\n    // tab의 data-case에 해당하는 panel의 data-view가 보여짐\r\n    const DATA_CASE = _elem.dataset.case;\r\n    const DATA_TAB_LIST = _elem.closest('.c-tab');\r\n    if (DATA_CASE && DATA_TAB_LIST) {\r\n      const DATA_VIEW = document.querySelectorAll('*[data-view=\"' + DATA_CASE + '\"]');\r\n      if (DATA_VIEW.length > 0) {\r\n        const DATA_WRAP = DATA_VIEW[0].closest('.tab-click-list');\r\n        if (DATA_WRAP) {\r\n          const DATA_LIST = DATA_WRAP.querySelectorAll('[data-view]');\r\n          if (DATA_LIST) {\r\n            for (let i = 0; i < DATA_LIST.length; i++) DATA_LIST[i].classList.remove('show');\r\n            for (let i = 0; i < DATA_VIEW.length; i++) DATA_VIEW[i].classList.add('show');\r\n          }\r\n        }\r\n      } else {\r\n        // 해당하는 리스트가 없는 경우\r\n        const DATA_NULL_DATA = DATA_TAB_LIST.dataset.tablist;\r\n        const DATA_NULL_WRAP = document.querySelector('[data-tabpanel=\"' + DATA_NULL_DATA + '\"]');\r\n        if (DATA_NULL_WRAP) {\r\n          const DATA_NULL_LIST = DATA_NULL_WRAP.querySelectorAll('[data-view]');\r\n          if (DATA_NULL_LIST.length > 0) for (let i = 0; i < DATA_NULL_LIST.length; i++) DATA_NULL_LIST[i].classList.remove('show');\r\n\r\n          // 전체 tab click\r\n          if (DATA_CASE === 'all') for (let i = 0; i < DATA_NULL_LIST.length; i++) DATA_NULL_LIST[i].classList.add('show');\r\n        }\r\n      }\r\n    }\r\n  }\r\n  function tabStateClickAraiControls() {\r\n    const TAB_ONE_TAB = TAB_ONE_WRAP.dataset.onetab;\r\n    if (TAB_ONE_TAB) {\r\n      const TAB_ONE_PANEL = document.querySelector('[data-onepanel=\"' + TAB_ONE_TAB + '\"]');\r\n      if (TAB_ONE_PANEL) {\r\n        const ONE_TARGET_TAB = _elem.getAttribute('aria-controls');\r\n        if (ONE_TARGET_TAB) TAB_ONE_PANEL.setAttribute('aria-labelledby', ONE_TARGET_TAB);\r\n      }\r\n    }\r\n  }\r\n  // +++ tab 터치 시 페이지 이동하는 tab 일 경우 or scroll 이동\r\n  function tabStateMove(_elem) {\r\n    const TAB_WRAP = _elem.closest('.c-tab');\r\n\r\n    if (TAB_WRAP) tabStateMoveConm(TAB_WRAP);\r\n  }\r\n  function tabStateMoveConm(_tabWrap) {\r\n    const TAB_MOVE_LIST = _tabWrap.querySelectorAll('li');\r\n\r\n    if (TAB_MOVE_LIST.length > 0) tabStateMoveConmEvt(TAB_MOVE_LIST, _tabWrap);\r\n  }\r\n  function tabStateMoveConmEvt(_tabMoveList, _tabWrap) {\r\n    for (let i = 0; i < _tabMoveList.length; i++) {\r\n      let activeTab = _tabMoveList[i].querySelectorAll('a.tab.active');\r\n\r\n      if (activeTab.length > 0) moveTabActivity(_tabWrap, _tabMoveList[i]);\r\n    }\r\n  }\r\n  function moveTabActivity(_wrap, _tab) {\r\n    if (_wrap && _tab) {\r\n      const TAB_WRAP_NAME = _wrap.dataset.tablist;\r\n\r\n      const TAB_ATTR = _tab.getAttribute('aria-controls');\r\n      if (TAB_WRAP_NAME && TAB_ATTR) moveTabActivityComn(TAB_WRAP_NAME, TAB_ATTR, _wrap, _tab);\r\n    }\r\n  }\r\n\r\n  function moveTabActivityComn(_tabWrapName, _tabAttr, _wrap, _tab) {\r\n    const PANEL_SELECTOR = document.querySelector('[data-panelname=\"' + _tabWrapName + '\"]');\r\n    if (PANEL_SELECTOR) {\r\n      PANEL_SELECTOR.setAttribute('aria-labelledby', _tabAttr);\r\n      // 선택된 tab 중앙 이동\r\n      moveTabCenterScroll(_wrap, _tab);\r\n    }\r\n  }\r\n  // + tab Click 시 스크롤 이동\r\n  function tabStateMoveConm(_tabWrap) {\r\n    const TAB_MOVE_LIST = _tabWrap.querySelectorAll('li');\r\n\r\n    if (TAB_MOVE_LIST.length > 0) tabStateMoveConmEvt(TAB_MOVE_LIST, _tabWrap);\r\n  }\r\n  // 선택된 tab 중앙 이동\r\n  function moveTabCenterScroll(_scrollBody, _activeEl) {\r\n    if (_scrollBody && _activeEl) moveTabCenterScrollComn(_activeEl, _scrollBody);\r\n  }\r\n  function moveTabCenterScrollComn(_activeEl, _scrollBody) {\r\n    let tabLeft = _activeEl.offsetLeft;\r\n    let tabStyle = _scrollBody.currentStyle || window.getComputedStyle(_scrollBody);\r\n    let tabPadRes = parseInt(tabStyle.paddingLeft) + parseInt(tabStyle.paddingRight);\r\n    let tabWidth = _scrollBody.clientWidth - tabPadRes;\r\n    let tabDiff = tabLeft - tabWidth / 2;\r\n\r\n    _scrollBody.scroll({ left: tabDiff, behavior: 'smooth' });\r\n  }\r\n  // 사용안함\r\n  // panel 내용이 바뀌는 방식의 tab 일 경우\r\n  // 탭과 연동된 tab-click-list 모두 보임\r\n  function tabClickListAllShow(_tabWrap) {\r\n    let dataTabList = _tabWrap.dataset.tablist;\r\n    if (dataTabList) {\r\n      const DATA_TAB_PANEL = document.querySelector('*[data-tabpanel=\"' + dataTabList + '\"]');\r\n      if (DATA_TAB_PANEL) {\r\n        const PANEL_VIEW_LIST = DATA_TAB_PANEL.querySelectorAll('*[data-view]');\r\n        if (PANEL_VIEW_LIST.length > 0) for (let i = 0; i < PANEL_VIEW_LIST.length; i++) PANEL_VIEW_LIST[i].classList.add('show');\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * popup\r\n   */\r\n  // 화면에 팝업이 있을 경우 공통 스타일 적용\r\n  // 팝업 필수 class: kmi-popup\r\n  const POPUP_ELEM = document.querySelectorAll('.kmi-popup');\r\n  // style\r\n  if (POPUP_ELEM.length > 0) for (let i = 0; i < POPUP_ELEM.length; i++) popupStyle(POPUP_ELEM[i], 'hide');\r\n  // 팝업 열림\r\n  const POPUP_BTN_ELEM = document.querySelectorAll('.btn-open-popup');\r\n  // popup open button - click event\r\n  if (POPUP_BTN_ELEM.length > 0)\r\n    for (let i = 0; i < POPUP_BTN_ELEM.length; i++)\r\n      POPUP_BTN_ELEM[i].addEventListener('click', () => {\r\n        popupOpenEvent(POPUP_BTN_ELEM[i], i);\r\n      });\r\n  // + popup open button click event\r\n  function popupOpenEvent(_btnElem, ..._i) {\r\n    const OPENSTATE_POPUP = document.querySelectorAll('.kmi-popup.show');\r\n    if (OPENSTATE_POPUP.length > 0) for (let i = 0; i < OPENSTATE_POPUP.length; i++) OPENSTATE_POPUP[i].setAttribute('aria-hidden', true);\r\n    const TARGET = _btnElem.getAttribute('data-target');\r\n    const CURRENT_POPUP = document.getElementById(TARGET);\r\n    CURRENT_POPUP.classList.add('show');\r\n    CURRENT_POPUP.setAttribute('aria-hidden', false);\r\n\r\n    // 접근성: popup 오픈 시 #container focus 막기\r\n    containerHidden(true);\r\n\r\n    // 팝업 종류 체크\r\n    let popupState = popupStateCheck(CURRENT_POPUP);\r\n\r\n    // style\r\n    let btnArr = 0;\r\n    if (OPENSTATE_POPUP.length > 0) btnArr = OPENSTATE_POPUP.length;\r\n    if (_i.length > 0) btnArr = _i.map((idx) => idx);\r\n    popupStyle(CURRENT_POPUP, 'show', _i.length > 0 ? btnArr[0] : btnArr);\r\n\r\n    // 접근성\r\n    focusFirstBtn(popupState, CURRENT_POPUP);\r\n\r\n    // 팝업 배경 click event\r\n\r\n    // modal header type _현재 팝업 상태 체크\r\n    popupModalHeader(popupState, CURRENT_POPUP);\r\n\r\n    // full type: floating tab 있는 full type 팝업이 스크롤 되는 경우\r\n    popupScrollTabCase(popupState, CURRENT_POPUP);\r\n\r\n    // full type: floating 버튼있는 full type 팝업이 스크롤 되는 경우\r\n    popupScrollCase(popupState, CURRENT_POPUP);\r\n  }\r\n  // + 팝업 종류 체크\r\n  function popupStateCheck(_popState) {\r\n    let popCase = _popState.classList;\r\n    // 모달 팝업: modal\r\n    if (popCase.contains('type-modal')) return 'modal';\r\n    // 모탈 팝업 : modal (header + footer)\r\n    else if (popCase.contains('type-modal-hf-fixed')) return 'modal-hf-fixed';\r\n    // 푸터 없는 풀팝업: full\r\n    else if (popCase.contains('type-full')) return 'full';\r\n    // 푸터 있는 풀팝업: full-footer\r\n    else if (popCase.contains('type-full-footer')) return 'full-footer';\r\n  }\r\n  // + 팝업 style - top, z-index, visibility\r\n  function popupStyle(_elem, _state, ..._i) {\r\n    let indexRes = 0;\r\n    if (_i.length > 0) for (let i = 0; i < _i.length; i++) indexRes = _i[i];\r\n    switch (_state) {\r\n      case 'show':\r\n        _elem.style.top = 0;\r\n        _elem.style.zIndex = 2000 + indexRes;\r\n        _elem.style.visibility = 'visible';\r\n        break;\r\n      case 'hide':\r\n        _elem.style.top = window.innerHeight + 'px';\r\n        _elem.style.zIndex = '-1';\r\n        _elem.style.visibility = 'hidden';\r\n        break;\r\n      default:\r\n        _elem.style.top = window.innerHeight + 'px';\r\n        _elem.style.zIndex = '-1';\r\n        _elem.style.visibility = 'hidden';\r\n        break;\r\n    }\r\n  }\r\n  // + 팝업 배경 click event\r\n  function popupBgClickEvt(_elem) {\r\n    const POPUP_BG_ELEM = _elem.querySelector('.popup-bg');\r\n    if (POPUP_BG_ELEM) {\r\n      POPUP_BG_ELEM.addEventListener('click', () => {\r\n        // 팝업 닫힘\r\n        _elem.classList.remove('show');\r\n        _elem.setAttribute('aria-hidden', true);\r\n        setTimeout(() => {\r\n          popupStyle(_elem, 'hide');\r\n        }, ANI_TIME_300);\r\n      });\r\n    }\r\n  }\r\n  function popupScrollTabCase(_state, _elem) {\r\n    if (_state === 'full') fullTabScrollChk(_elem);\r\n  }\r\n  function fullTabScrollChk(_elem) {\r\n    const F_CONTAINER = _elem.querySelector('.c-container');\r\n    if (F_CONTAINER) {\r\n      const F_Tab = F_CONTAINER.querySelector('.tab-floating');\r\n      const F_HEADER = F_CONTAINER.querySelector('.full-header');\r\n      const F_BODY = F_CONTAINER.querySelector('.full-body');\r\n      if (F_HEADER && F_BODY && F_Tab) fullTabScrollEvt(F_CONTAINER, F_Tab, F_HEADER, F_BODY);\r\n    }\r\n  }\r\n  function fullTabScrollEvt(_container, _tab, _header, _body) {\r\n    // scroll end check\r\n    let headerHeight = _header.clientHeight;\r\n    let lastScrollTop = 0;\r\n    let scrollArr = [];\r\n    var isScrolling;\r\n\r\n    _body.addEventListener('scroll', function () {\r\n      const CONT_BOX = _container.querySelector('.cont-box');\r\n      const TIT = _container.querySelector('.top-title-box');\r\n      if (CONT_BOX && TIT) {\r\n        let contBoxStyle = CONT_BOX.currentStyle || window.getComputedStyle(CONT_BOX);\r\n        let contBoxStyleRes = parseInt(contBoxStyle.paddingTop);\r\n        let scrollRes = this.clientHeight + _header.clientHeight + _tab.clientHeight + TIT.clientHeight + contBoxStyleRes;\r\n        if (this.scrollHeight > scrollRes) {\r\n          _container.closest('.kmi-popup.show').classList.add('type-floating');\r\n          if (this.scrollTop > headerHeight) {\r\n            let st = this.pageYOffset || this.scrollTop;\r\n            if (st > lastScrollTop) {\r\n              // SCROLL: DOWN\r\n              _container.classList.add('scroll-hide');\r\n              console.log(' scroll down');\r\n            } else {\r\n              // SCROLL: UP\r\n              scrollArr.push(st);\r\n\r\n              console.log('scroll up');\r\n\r\n              window.clearTimeout(isScrolling);\r\n              isScrolling = setTimeout(function () {\r\n                scrollArr = [];\r\n              }, 66);\r\n              if (Math.max.apply(Math, scrollArr) - Math.min.apply(Math, scrollArr) > SHOW_HEADER_NUM) {\r\n                _container.classList.remove('scroll-hide');\r\n                scrollArr = [];\r\n              }\r\n            }\r\n            lastScrollTop = st <= 0 ? 0 : st;\r\n            console.log('🚀 ~ file: common.js:796 ~ lastScrollTop', lastScrollTop);\r\n          }\r\n\r\n          if (this.scrollTop > TIT.clientHeight + _tab.clientHeight) _container.classList.add('isTop');\r\n          else _container.classList.remove('isTop');\r\n\r\n          if (this.scrollTop <= 0) {\r\n            _container.classList.remove('scroll-hide');\r\n            scrollArr = [];\r\n          }\r\n        } else _container.closest('.kmi-popup.show').classList.remove('type-floating');\r\n      }\r\n    });\r\n  }\r\n  // + full type: 스크롤 되는 경우 check\r\n  function popupScrollCase(_state, _elem) {\r\n    if (_state === 'full') fullScrollChk(_elem);\r\n    if (_state === 'full-footer') fullFooterScrollCheck(_elem);\r\n\r\n    // scroll event\r\n    if (_state === 'full' || _state === 'full-footer') customScrollbar(_elem, _state);\r\n  }\r\n  function fullScrollChk(_elem) {\r\n    const F_CONTAINER = _elem.querySelector('.c-container');\r\n    if (F_CONTAINER) {\r\n      const F_HEADER = F_CONTAINER.querySelector('.full-header');\r\n      const F_BODY = F_CONTAINER.querySelector('.full-body');\r\n      const F_BUTTON = F_CONTAINER.querySelector('.btn-floating');\r\n      if (F_HEADER && F_BODY && F_BUTTON) fullScrollEvt(F_CONTAINER, F_HEADER, F_BODY, F_BUTTON);\r\n    }\r\n  }\r\n  function fullScrollEvt(_container, _header, _body, _fBtn) {\r\n    // scroll end check\r\n    _body.classList.add('type-flex');\r\n    _fBtn.classList.remove('isScrollEnd');\r\n    if (_body.offsetHeight + _body.scrollTop >= _body.scrollHeight) _fBtn.classList.add('isScrollEnd');\r\n    if (_body.scrollHeight > _body.clientHeight + 72) {\r\n      _body.classList.remove('type-flex');\r\n      _fBtn.classList.add('isScroll');\r\n      _body.addEventListener('scroll', () => {\r\n        const SCROLL_WRAP = document.querySelector('.c-full-layer.kmi-popup.show');\r\n        if (SCROLL_WRAP) fullScrollEvtInit(SCROLL_WRAP, _fBtn);\r\n      });\r\n    } else {\r\n      _fBtn.classList.remove('isScroll');\r\n    }\r\n  }\r\n  function fullScrollEvtInit(_scrollWrap, _fBtn) {\r\n    const SCROLL_BODY = _scrollWrap.querySelector('.full-body');\r\n    if (SCROLL_BODY) fullScrollEvtScroll(SCROLL_BODY, _fBtn);\r\n  }\r\n  function fullScrollEvtScroll(_scrollBody, _fBtn) {\r\n    // scroll end check\r\n    let scrollRes = _scrollBody.offsetHeight + _scrollBody.scrollTop + 30;\r\n    // scroll down end\r\n    if (scrollRes >= _scrollBody.scrollHeight) _fBtn.classList.add('isScrollEnd');\r\n    else _fBtn.classList.remove('isScrollEnd');\r\n  }\r\n  // X XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n  // ++ full type 일 경우\r\n  // function fullScrollCheck(_elem) {\r\n  //   const F_CONTAINER = _elem.querySelector('.c-container');\r\n  //   if (F_CONTAINER) {\r\n  //     const F_HEADER = F_CONTAINER.querySelector('.full-header');\r\n  //     const F_BODY = F_CONTAINER.querySelector('.full-body');\r\n  //     const F_FOOTER = F_CONTAINER.querySelector('.full-footer');\r\n  //     // full-body가 스크롤 되는지 체크\r\n  //     if (F_HEADER && F_BODY && F_FOOTER) fullScrollEvent(F_CONTAINER, F_HEADER, F_BODY, F_FOOTER);\r\n  //   }\r\n  // }\r\n  // +++ full type의 container가 스크롤 될 경우\r\n  // function fullScrollEvent(_container, _header, _body, _footer) {\r\n  //   let bStyle = _body.currentStyle || window.getComputedStyle(_body);\r\n  //   let cHeight = _container.clientHeight;\r\n  //   let hHeight = _header.clientHeight;\r\n  //   // let bHeight = _body.scrollHeight;\r\n  //   let bhInit = parseInt(bStyle.paddingBottom);\r\n  //   let bHeight = (_body.clientHeight + bhInit) > _body.scrollHeight ? _body.clientHeight + bhInit : _body.scrollHeight;\r\n  //   let fHeight = _footer.clientHeight; // 100px || 72px\r\n  //   let hRes = cHeight - (hHeight + 72);\r\n  //   if (bHeight > hRes) {\r\n  //     // bottom fixed 버튼: 애니메이션 제거\r\n  //     // _footer.style.transition = 'none';\r\n  //     // footer addClass: scroll\r\n  //     _footer.classList.add('scroll');\r\n  //     // scroll end event check\r\n  //     fullScrollEndEvent(_container, _body, _footer);\r\n  //   }\r\n  // }\r\n  // ++++ scroll end event check\r\n  // function fullScrollEndEvent(_scrollContainer, _scrollBody, _buttonEl) {\r\n  //   // let scrollInit = 0;\r\n  //   _scrollBody.addEventListener('scroll', () => {\r\n  //     // bottom fixed 버튼: 애니메이션 적용\r\n  //     // _buttonEl.style.transition = 'padding .1s ease-in-out';\r\n  //     // scroll up\r\n  //     if (!timeout) {\r\n  //       // scroll end check\r\n  //       let scrollRes = _scrollBody.offsetHeight + _scrollBody.scrollTop;\r\n  //       // scroll down end\r\n  //       if (scrollRes >= _scrollBody.scrollHeight) _buttonEl.classList.remove('scroll');\r\n  //       if (scrollRes < _scrollBody.scrollHeight - 28) _buttonEl.classList.add('scroll');\r\n  //     }\r\n  //   });\r\n  // }\r\n  // X XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n  // ++ full footer type 일 경우\r\n  function fullFooterScrollCheck(_elem) {\r\n    const FF_CONTAINER = _elem.querySelector('.c-container');\r\n    if (FF_CONTAINER) {\r\n      const FF_HEADER = FF_CONTAINER.querySelector('.full-header');\r\n      const FF_BODY = FF_CONTAINER.querySelector('.full-body');\r\n      const FF_BUTTON = FF_CONTAINER.querySelector('.full-footer');\r\n      const FF_FOOTER = FF_CONTAINER.querySelector('.footer');\r\n\r\n      // fixed 버튼 있는 full-body가 스크롤 되는지 체크\r\n      if (FF_HEADER && FF_BODY && FF_BUTTON && FF_FOOTER) fullFooterScrollEvent(_elem, FF_CONTAINER, FF_HEADER, FF_BODY, FF_BUTTON, FF_FOOTER);\r\n      // fixed 버튼 없는 full-body가 스크롤 되는지 체크\r\n      if (FF_HEADER && FF_BODY && FF_FOOTER) fullNoFooterScrollEvent(_elem, FF_CONTAINER, FF_HEADER, FF_BODY, FF_FOOTER);\r\n    }\r\n  }\r\n  // +++ fixed 버튼 없는 full-body가 스크롤 되는지 체크\r\n  function fullNoFooterScrollEvent(_popEl, _container, _header, _body, _footer) {\r\n    let cHeight = _container.clientHeight;\r\n    let hHeight = _header.clientHeight;\r\n    let bHeight = _body.scrollHeight;\r\n    let fHeight = _footer.clientHeight;\r\n    let hRes = cHeight - (hHeight + fHeight);\r\n\r\n    if (bHeight > hRes) _popEl.classList.add('type-scroll');\r\n  }\r\n  // +++ fixed 버튼 있는 full-body가 스크롤 되는지 체크\r\n  function fullFooterScrollEvent(_popEl, _container, _header, _body, _btnEl, _footer) {\r\n    let cHeight = _container.clientHeight;\r\n    let hHeight = _header.clientHeight;\r\n    let bHeight = _body.scrollHeight;\r\n    let btnHeight = _btnEl.clientHeight; // 72px || 100px\r\n    let fHeight = _footer.clientHeight;\r\n    let hRes = cHeight - (hHeight + fHeight + btnHeight);\r\n\r\n    if (bHeight > hRes) {\r\n      // popup addClass: type-scroll\r\n      _popEl.classList.add('type-scroll');\r\n      // fixed button addClass: scroll\r\n      _btnEl.classList.add('scroll');\r\n      _container.scrollTop = 1;\r\n      setTimeout(() => {\r\n        _container.scrollTop = 0;\r\n      }, INTERVAL_1);\r\n      // scroll end event check\r\n      fullFooterScrollEndEvent(_container, _btnEl, _footer);\r\n    }\r\n  }\r\n  // ++++ scroll end event check\r\n  function fullFooterScrollEndEvent(_scrollContainer, _buttonEl, _footerEl) {\r\n    _scrollContainer.addEventListener('scroll', () => {\r\n      // scroll end check\r\n      let scrollRes = _scrollContainer.offsetHeight + _scrollContainer.scrollTop + 50;\r\n      let scrollRight = _scrollContainer.scrollHeight - _footerEl.clientHeight;\r\n      // scroll down end\r\n      if (scrollRes >= scrollRight) if (_buttonEl.classList.contains('scroll')) _buttonEl.classList.remove('scroll');\r\n      // scroll up\r\n      let scrollResUp = _scrollContainer.scrollHeight - _footerEl.clientHeight;\r\n      if (scrollRes < scrollResUp) if (!_buttonEl.classList.contains('scroll')) _buttonEl.classList.add('scroll');\r\n    });\r\n  }\r\n  // + modal header type\r\n  function popupModalHeader(_state, _popupEl) {\r\n    if (_state === 'modal') setTimeout(popupModalHeaderScroll, ANI_TIME_300, _popupEl, _state);\r\n    else if (_state === 'modal-hf-fixed') setTimeout(popupModalHFFixedScroll, ANI_TIME_300, _popupEl, _state);\r\n  }\r\n  // ++ modal header type의 modal-field가 스크롤 되는지 체크\r\n  function popupModalHeaderScroll(_popEl, _state) {\r\n    const SCROLL_ELEM = _popEl.querySelector('.modal-field');\r\n    if (SCROLL_ELEM) {\r\n      const POP_HEADER = SCROLL_ELEM.querySelector('.c-modal-header');\r\n      if (POP_HEADER) {\r\n        if (SCROLL_ELEM.scrollHeight > SCROLL_ELEM.clientHeight) {\r\n          // scrollbar design\r\n          customScrollbar(_popEl, _state);\r\n\r\n          // scroll event\r\n          popupModalHeaderScrollEvt(SCROLL_ELEM, POP_HEADER);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // ++ popupModalHFFixedScroll\r\n  function popupModalHFFixedScroll(_popEl, _state) {\r\n    const SCROLL_ELEM2 = _popEl.querySelector('.modal-field');\r\n    const SCROLL_ELEM2_BODY = _popEl.querySelector('.modal-field').querySelector('.c-modal-body');\r\n\r\n    if (SCROLL_ELEM2) {\r\n      const POP_HEADER2 = SCROLL_ELEM2.querySelector('.c-modal-header');\r\n      if (POP_HEADER2) {\r\n        if (SCROLL_ELEM2.querySelector('.c-modal-body').scrollHeight > SCROLL_ELEM2.querySelector('.c-modal-body').clientHeight) {\r\n          // scrollbar design\r\n          customScrollbar(_popEl, _state);\r\n\r\n          // scroll event\r\n          popupModalHeaderScrollEvt(SCROLL_ELEM2_BODY, POP_HEADER2);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // +++ modal header type의 modal-field가 스크롤 되는 경우\r\n  function popupModalHeaderScrollEvt(_scrollEl, _popHeader) {\r\n    console.log(_scrollEl);\r\n\r\n    _scrollEl.addEventListener('scroll', function () {\r\n      console.log('scroll');\r\n\r\n      if (this.scrollTop <= 0) _popHeader.classList.remove('isScroll');\r\n      else _popHeader.classList.add('isScroll');\r\n    });\r\n  }\r\n  // 팝업 닫힘 - 닫힘버튼 class: popup-btn-close\r\n  const POPUP_CLOSE_ELEM = document.querySelectorAll('.popup-btn-close');\r\n  if (POPUP_CLOSE_ELEM.length > 0) popupCloseComn(POPUP_CLOSE_ELEM);\r\n\r\n  // + popup close\r\n  function popupCloseComn(_popupCloseEl) {\r\n    for (let i = 0; i < _popupCloseEl.length; i++) {\r\n      // popup close button - click event\r\n      _popupCloseEl[i].addEventListener('click', () => {\r\n        const CLOSESTATE_POPUP = document.querySelectorAll('.kmi-popup.show');\r\n        if (CLOSESTATE_POPUP.length > 0) for (let i = 0; i < CLOSESTATE_POPUP.length; i++) CLOSESTATE_POPUP[i].setAttribute('aria-hidden', false);\r\n\r\n        const TARGET = _popupCloseEl[i].closest('.kmi-popup');\r\n        TARGET.classList.remove('show');\r\n        TARGET.setAttribute('aria-hidden', true);\r\n\r\n        // 접근성: popup close 시 #container focus 풀기\r\n        containerHidden(false);\r\n\r\n        // style - 사라지는 animation을 위해 setTimeout 사용\r\n        setTimeout(() => {\r\n          popupCloseTimeout(TARGET);\r\n        }, ANI_TIME_300);\r\n      });\r\n    }\r\n  }\r\n  function popupCloseTimeout(_target) {\r\n    popupStyle(_target, 'hide');\r\n    focusCloseState(_target);\r\n  }\r\n  // 팝업: 접근성\r\n  // + 팝업 닫을 때 열었던 버튼에 focus 시키기\r\n  function focusCloseState(_elem) {\r\n    setTimeout(() => {\r\n      const FOCUS_ELEM = document.querySelector(`[data-target=\"${_elem.id}\"]`);\r\n      if (FOCUS_ELEM) FOCUS_ELEM.focus();\r\n    }, INTERVAL_1);\r\n  }\r\n  function focusFirstBtn(_state, _elem) {\r\n    setTimeout(() => {\r\n      let focus_el = new Object();\r\n      if (_state === 'full-footer' || _state === 'full') focus_el = _elem.querySelectorAll('.btn-go-back');\r\n      if (_state === 'modal') focus_el = _elem.querySelectorAll('.popup-cls-btn.popup-btn-close');\r\n\r\n      if (focus_el.length > 0)\r\n        setTimeout(() => {\r\n          focus_el[0].focus();\r\n        }, INTERVAL_1);\r\n    }, ANI_TIME_300);\r\n  }\r\n  // DOM에 풀팝업이 있을 경우\r\n  function fullPopupState() {\r\n    const FULL_POP_ELEM = document.querySelectorAll('.c-full-layer.show');\r\n    if (FULL_POP_ELEM.length > 0) {\r\n      for (let i = 0; i < FULL_POP_ELEM.length; i++) {\r\n        if (FULL_POP_ELEM[i].classList.contains('type-full')) fullPopupScrollHeightCheck('full', FULL_POP_ELEM[i]);\r\n        if (FULL_POP_ELEM[i].classList.contains('type-full-footer')) fullPopupScrollHeightChk('full-footer', FULL_POP_ELEM[i]);\r\n      }\r\n    }\r\n  }\r\n  function fullPopupScrollHeightCheck(_type, _popEl) {\r\n    const F_CONTAINER = _popEl.querySelector('.c-container');\r\n    if (F_CONTAINER) {\r\n      const F_HEADER = F_CONTAINER.querySelector('.full-header');\r\n      const F_BODY = F_CONTAINER.querySelector('.full-body');\r\n      const F_BUTTON = F_CONTAINER.querySelector('.btn-floating');\r\n      if (F_HEADER && F_BODY && F_BUTTON) if (_type === 'full') fullScrollEvt(F_CONTAINER, F_HEADER, F_BODY, F_BUTTON);\r\n    }\r\n  }\r\n  // + resize: DOM에 팝업이 있는 경우\r\n  function fullPopupScrollHeightChk(_type, _popEl) {\r\n    const FULL_CONTAINER = _popEl.querySelector('.c-container');\r\n    if (FULL_CONTAINER) {\r\n      const FULL_HEADER = FULL_CONTAINER.querySelector('.full-header');\r\n      const FULL_BODY = FULL_CONTAINER.querySelector('.full-body');\r\n      const FULL_FOOTER = FULL_CONTAINER.querySelector('.full-footer');\r\n      // full type\r\n      if (_type === 'full') fullResizeEvent(FULL_CONTAINER, FULL_HEADER, FULL_BODY, FULL_FOOTER);\r\n    }\r\n  }\r\n  // ++ reize check\r\n  function fullResizeEvent(_container, _header, _body, _footer) {\r\n    let bStyle = _body.currentStyle || window.getComputedStyle(_body);\r\n    let cHeight = _container.clientHeight;\r\n    let hHeight = _header.clientHeight;\r\n    let bhInit = parseInt(bStyle.paddingBottom);\r\n    let bHeight = _body.clientHeight + bhInit > _body.scrollHeight ? _body.clientHeight + bhInit : _body.scrollHeight;\r\n    // let fHeight = _footer.clientHeight; // 100px || 72px\r\n    let fHeight = 72;\r\n    let hRes = cHeight - (hHeight + fHeight);\r\n\r\n    // footer addClass: scroll\r\n    if (bHeight > hRes) _footer.classList.add('scroll');\r\n    // footer removeClass: scroll\r\n    else _footer.classList.remove('scroll');\r\n\r\n    // reisze 했을 때 scroll이 최하단일 경우\r\n    if (_body.offsetHeight + _body.scrollTop >= _body.scrollHeight) _footer.classList.remove('scroll');\r\n  }\r\n  // resize: modal header popup shadow\r\n  function modalHeaderPopupShadow() {\r\n    const MODAL_HEADER_POPUP = document.querySelectorAll('.c-layer-popup.kmi-popup.type-modal.show');\r\n    if (MODAL_HEADER_POPUP.length > 0) for (let i = 0; i < MODAL_HEADER_POPUP.length; i++) customScrollbar(MODAL_HEADER_POPUP[i], 'modal');\r\n  }\r\n  // resize: full popup\r\n  function fullPopupResizeScrollbar() {\r\n    const FULL_POPUP = document.querySelectorAll('.c-full-layer.kmi-popup.show');\r\n    if (FULL_POPUP.length > 0) {\r\n      for (let i = 0; i < FULL_POPUP.length; i++) {\r\n        if (FULL_POPUP[i].classList.contains('type-full')) customScrollbar(FULL_POPUP[i], 'full');\r\n        if (FULL_POPUP[i].classList.contains('type-full-footer')) customScrollbar(FULL_POPUP[i], 'full-footer');\r\n      }\r\n    }\r\n  }\r\n  // 팝업 열림 버튼을 직접 click할 경우\r\n  function popupDirectClick(_popupBtnEl) {\r\n    popupOpenEvent(_popupBtnEl);\r\n  }\r\n\r\n  /**\r\n   * accordion\r\n   */\r\n  const ACCORDION_ELEM = document.querySelectorAll('.accordion');\r\n  if (ACCORDION_ELEM.length > 0) {\r\n    for (let i = 0; i < ACCORDION_ELEM.length; i++) {\r\n      // 아코디언 타입체크\r\n      let accordionType = accordionTypeCheck(ACCORDION_ELEM[i]);\r\n\r\n      // 접근성\r\n      accordionAltTxt(ACCORDION_ELEM[i]);\r\n      accordionAccessibility(ACCORDION_ELEM[i]);\r\n      const BTN_OPEN = ACCORDION_ELEM[i].querySelectorAll('.accordion-header');\r\n      // acc button click event\r\n      if (BTN_OPEN.length > 0) accButtonClickEvent(ACCORDION_ELEM[i], BTN_OPEN[0], accordionType);\r\n    }\r\n  }\r\n\r\n  // + 아코디언 타입 체크: 하나만 보이는 타입, 모두 보이는 타입\r\n  function accordionTypeCheck(_accEl) {\r\n    if (_accEl.classList.contains('type-open-one')) return 'type-one-open';\r\n    return 'type-multi-open';\r\n  }\r\n  function accordionAltTxt(_elem) {\r\n    if (_elem.classList.contains('type-inner-btn')) {\r\n      let altElTxt = document.createElement('em');\r\n      altElTxt.classList.add('alt-txt');\r\n      altElTxt.setAttribute('role', 'button');\r\n      let header = _elem.querySelector('.accordion-header');\r\n      let accTit = header.querySelector('.acc-tit');\r\n      header.insertBefore(altElTxt, accTit);\r\n      _elem.classList.contains('open') ? (altElTxt.innerHTML = ACC_ALT_TXT.open) : (altElTxt.innerHTML = ACC_ALT_TXT.close);\r\n    }\r\n  }\r\n  function accordionAltTxtTouch(_altEl, _state) {\r\n    switch (_state) {\r\n      case true:\r\n        _altEl.innerHTML = ACC_ALT_TXT.open;\r\n        break;\r\n      default:\r\n        _altEl.innerHTML = ACC_ALT_TXT.close;\r\n        break;\r\n    }\r\n  }\r\n  function accordionAccessibility(_elem) {\r\n    if (_elem.classList.contains('open')) {\r\n      _elem.querySelector('.accordion-header').setAttribute('aria-expanded', true);\r\n      _elem.querySelector('.accordion-body').setAttribute('tabindex', 0);\r\n      _elem.querySelector('.accordion-body').setAttribute('aria-hidden', false);\r\n      if (_elem.classList.contains('type-inner-btn')) if (_elem.querySelector('.alt-txt')) accordionAltTxtTouch(_elem.querySelector('.alt-txt'), true);\r\n    } else {\r\n      _elem.querySelector('.accordion-header').setAttribute('aria-expanded', 'false');\r\n      _elem.querySelector('.accordion-body').setAttribute('tabindex', -1);\r\n      _elem.querySelector('.accordion-body').setAttribute('aria-hidden', true);\r\n      if (_elem.classList.contains('type-inner-btn')) if (_elem.querySelector('.alt-txt')) accordionAltTxtTouch(_elem.querySelector('.alt-txt'), false);\r\n    }\r\n  }\r\n  // + acc button click event\r\n  function accButtonClickEvent(_accWrap, _elem, _accType) {\r\n    let bodyHeight = 0;\r\n    setTimeout(() => {\r\n      let accBodyEl = _accWrap.querySelector('.accordion-body');\r\n      bodyHeight = accBodyEl.scrollHeight;\r\n\r\n      // 열려있는 아코디언이 있을 경우\r\n      if (_accWrap.classList.contains('open')) _accWrap.querySelector('.accordion-body').style.maxHeight = bodyHeight + 'px';\r\n      _elem.onclick = function (e) {\r\n        accButtonClickEvtComn(e, _accType, _accWrap, accBodyEl, bodyHeight);\r\n      };\r\n    }, INTERVAL_100);\r\n  }\r\n  function accButtonClickEvtComn(_e, _accType, _accWrap, _accBodyEl, _bodyHeight) {\r\n    // 터치하는 영역이 '비교하기' 버튼이 아닐 경우 - 아코디언 hide / show\r\n    // 터치하는 영역이 물음표 아이콘이 아닐 경우 - 아코디언 hide / show\r\n    if (!_e.target.parentElement.classList.contains('co-btn') && !_e.target.classList.contains('co-btn') && !_e.target.classList.contains('ico-ques')) {\r\n      accButtonTypeOneOpen(_accType, _accWrap);\r\n      accButtonOpenClose(_accWrap, _accBodyEl);\r\n      // 접근성\r\n      accordionAccessibility(_accWrap);\r\n      // btn-bottom-floating check\r\n      setTimeout(() => {\r\n        const CONTAINER_EL = document.getElementById('container');\r\n        if (CONTAINER_EL) scrollTopFake(CONTAINER_EL);\r\n      }, ANI_TIME_300);\r\n    }\r\n  }\r\n  function accButtonTypeOneOpen(_accType, _accWrap) {\r\n    // 터치 시 하나만 보이는 타입\r\n    if (_accType === 'type-one-open') {\r\n      // 아코디언이 열려있으면\r\n      if (!_accWrap.classList.contains('open')) accButtonTypeOneOpenAllClose(_accWrap);\r\n    }\r\n  }\r\n  function accButtonTypeOneOpenAllClose(_accWrap) {\r\n    const ACC_WRAP = _accWrap.closest('.accordion-list');\r\n    if (ACC_WRAP) {\r\n      // 아코디언 모두 닫기\r\n      let accOneList = ACC_WRAP.querySelectorAll('.accordion');\r\n      for (let i = 0; i < accOneList.length; i++) {\r\n        accOneList[i].classList.remove('open');\r\n        accOneList[i].querySelector('.accordion-body').style.maxHeight = 0;\r\n        accOneList[i].querySelector('.accordion-body').setAttribute('tabindex', -1);\r\n        accOneList[i].querySelector('.accordion-body').setAttribute('aria-hidden', true);\r\n        accOneList[i].querySelector('.accordion-header').setAttribute('aria-expanded', false);\r\n      }\r\n    }\r\n  }\r\n  function accButtonOpenClose(_accWrap, _accBodyEl) {\r\n    if (_accWrap.classList.contains('open')) {\r\n      _accWrap.classList.remove('open');\r\n      _accBodyEl.style.maxHeight = 0;\r\n    } else {\r\n      _accWrap.classList.add('open');\r\n      _accBodyEl.style.maxHeight = _accBodyEl.scrollHeight + 'px';\r\n    }\r\n  }\r\n  // + 아코디언 모두닫힘\r\n  function accordionAllClose(_accEl) {\r\n    for (let i = 0; i < _accEl.length; i++) {\r\n      _accEl[i].classList.remove('open');\r\n      _accEl[i].querySelector('.accordion-body').setAttribute('tabindex', -1);\r\n      _accEl[i].querySelector('.accordion-body').setAttribute('aria-hidden', true);\r\n      _accEl[i].querySelector('.accordion-body').style.maxHeight = 0;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * terms\r\n   */\r\n  const TERMS_ELEM = document.querySelectorAll('.terms-box');\r\n  if (TERMS_ELEM.length > 0) termsComn(TERMS_ELEM);\r\n\r\n  // + 약관이 있으면\r\n  function termsComn(_elem) {\r\n    for (let i = 0; i < TERMS_ELEM.length; i++) {\r\n      const TERMS_INNER = TERMS_ELEM[i].querySelectorAll('.inner');\r\n      termsInner(TERMS_INNER, TERMS_ELEM[i]);\r\n    }\r\n  }\r\n  function termsInner(_inner, _elem) {\r\n    if (_inner.length > 0) for (let j = 0; j < _inner.length; j++) temrsRow(_inner[j], _elem);\r\n  }\r\n  // ++ 약관에 내용이 있으면\r\n  function temrsRow(_row, _elem) {\r\n    if (_row.scrollHeight > _elem.clientHeight + 2) {\r\n      const TERMS_ROW = _row.querySelectorAll('.terms-row');\r\n      termsAppend(TERMS_ROW, _elem, _row);\r\n    }\r\n  }\r\n  // +++ 약관에 내용이 길면\r\n  function termsAppend(_row, _elem, _rowEl) {\r\n    if (_row.length > 0) {\r\n      let scrollEl = document.createElement('div');\r\n      let scrollInner = document.createElement('span');\r\n      scrollEl.classList.add('terms_scroll');\r\n      scrollEl.setAttribute('aria-hidden', true);\r\n      scrollEl.appendChild(scrollInner);\r\n      // 스크롤바 element 만들기\r\n      _elem.appendChild(scrollEl);\r\n\r\n      // 스크롤바 scroll event\r\n      termsScrollEvent(_rowEl, scrollEl, scrollInner);\r\n    }\r\n  }\r\n  // ++++ 스크롤바 scroll event\r\n  function termsScrollEvent(_scrollBody, _scrollWrap, _scrollElem) {\r\n    let scrollRes = 0;\r\n    let isScrolling;\r\n    _scrollBody.addEventListener('scroll', function () {\r\n      window.clearTimeout(isScrolling);\r\n      if (this.scrollTop > 0) {\r\n        _scrollWrap.classList.add('show');\r\n        scrollRes = ((100 - _scrollElem.clientHeight) / (this.scrollHeight - this.clientHeight)) * this.scrollTop;\r\n        _scrollElem.style.top = `${scrollRes}%`;\r\n      } else {\r\n        _scrollElem.style.top = '0';\r\n      }\r\n      // scroll stop event\r\n      isScrolling = setTimeout(function () {\r\n        if (_scrollWrap.classList.contains('show')) _scrollWrap.classList.remove('show');\r\n      }, INTERVAL_1000);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * textarea\r\n   */\r\n  const TEXTAREA_ELEM = document.querySelectorAll('textarea');\r\n  if (TEXTAREA_ELEM.length > 0) for (let i = 0; i < TEXTAREA_ELEM.length; i++) textareaComn(TEXTAREA_ELEM[i]);\r\n  // + textarea가 있으면\r\n  function textareaComn(_elem) {\r\n    if (_elem.scrollHeight > _elem.clientHeight) textareaScrollbar(_elem);\r\n    // add scrollbar\r\n    _elem.addEventListener('input', function () {\r\n      if (this.scrollHeight > this.clientHeight) textareaScrollbar(_elem);\r\n    });\r\n  }\r\n  // + create textarea scrollbar\r\n  function textareaScrollbar(_elem) {\r\n    if (_elem.parentElement.querySelector('.textarea-scroll')) {\r\n      // has scrollbar\r\n    } else {\r\n      // null scrollbar\r\n      let scrollEl = document.createElement('div');\r\n      let scrollInner = document.createElement('span');\r\n      scrollEl.classList.add('textarea-scroll');\r\n      scrollEl.setAttribute('aria-hidden', true);\r\n      scrollEl.appendChild(scrollInner);\r\n      _elem.parentElement.appendChild(scrollEl);\r\n      // 스크롤바 scroll event\r\n      termsScrollEvent(_elem, scrollEl, scrollInner);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * input\r\n   */\r\n  const INPUT_ELEM = document.querySelectorAll('input');\r\n  if (INPUT_ELEM.length > 0) for (let i = 0; i < INPUT_ELEM.length; i++) inputComn(INPUT_ELEM[i]);\r\n  // input 공통 scritp\r\n  function inputComn(_elem) {\r\n    let inputTypeState = inputTypeCase(_elem);\r\n    inputFocusEvent(_elem, inputTypeState);\r\n  }\r\n  // + input type check\r\n  function inputTypeCase(_input) {\r\n    let inputCase = _input.type;\r\n    switch (inputCase) {\r\n      case 'text':\r\n      case 'password':\r\n      case 'number':\r\n        return 'default';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  // + input [text, password, number] focus event\r\n  function inputFocusEvent(_inputEl, _inputState) {\r\n    if (_inputState === 'default') inputFocusEvtComn(_inputEl);\r\n  }\r\n  function inputFocusEvtComn(_inputEl) {\r\n    _inputEl.addEventListener('focus', function () {\r\n      inputFocusEvtFloating(_inputEl);\r\n      inputFocusEvtModal();\r\n\r\n      let elTop = 0;\r\n      setTimeout(() => {\r\n        let elTopElem = _inputEl.closest('*[class^=\"c-input-\"]');\r\n        if (elTopElem) {\r\n          elTop = elTopElem.offsetTop;\r\n          // type-fulld\r\n          const PARENT_EL_FULL = _inputEl.closest('.c-container');\r\n          if (PARENT_EL_FULL) {\r\n            const PARENT_EL_HEADER = PARENT_EL_FULL.querySelector('.full-header');\r\n            if (PARENT_EL_HEADER) PARENT_EL_FULL.scrollTop = elTop - PARENT_EL_HEADER.clientHeight;\r\n          }\r\n          // type-modal\r\n          const PARENT_EL_MODAL = _inputEl.closest('.c-layer-popup.kmi-popup.type-modal.show');\r\n          if (PARENT_EL_MODAL) {\r\n            const MODAL_INNER = PARENT_EL_MODAL.querySelector('.modal-field');\r\n            if (MODAL_INNER) {\r\n              const MODAL_HEADER = MODAL_INNER.querySelector('.c-modal-header');\r\n              if (MODAL_HEADER) MODAL_INNER.scrollTop = elTop - MODAL_HEADER.clientHeight;\r\n            }\r\n          }\r\n          elTop = 0;\r\n        }\r\n      }, INTERVAL_100);\r\n      return false;\r\n    });\r\n    _inputEl.addEventListener('blur', function () {\r\n      // type-full\r\n      let floatinPopup = _inputEl.closest('.c-full-layer.kmi-popup.show');\r\n      if (floatinPopup) {\r\n        let floatingContainer = floatinPopup.querySelector('.c-container');\r\n        if (floatingContainer) {\r\n          const SCROLL_ELEM = floatingContainer.querySelector('.full-body');\r\n          if (SCROLL_ELEM) {\r\n            let floatingBtn = SCROLL_ELEM.querySelector('.btn-floating');\r\n\r\n            floatinPopup.classList.remove('input-focus');\r\n            if (floatinPopup.classList.contains('input-focus')) {\r\n              floatinPopup.classList.remove('input-focus');\r\n            }\r\n            if (SCROLL_ELEM.scrollHeight - 72 > SCROLL_ELEM.clientHeight) floatingBtn.classList.add('isScroll');\r\n          }\r\n        }\r\n      }\r\n\r\n      return false;\r\n    });\r\n  }\r\n  // ++ floating 버튼 있는 full 팝업\r\n  function inputFocusEvtFloating(_inputEl) {\r\n    let floatinPopup = document.querySelector('.c-full-layer.kmi-popup.show');\r\n    if (floatinPopup) {\r\n      let floatingContainer = floatinPopup.querySelector('.c-container');\r\n      let floatingBtn = floatinPopup.querySelector('.btn-floating');\r\n      if (floatingContainer && floatingBtn) inputFocusEvtFloatingBtn(floatinPopup, floatingContainer, floatingBtn, _inputEl);\r\n    }\r\n  }\r\n  function inputFocusEvtFloatingBtn(_floatinPopup, _floatingContainer, _floatingBtn, _inputEl) {\r\n    if (_floatinPopup.classList.contains('input-focus')) {\r\n      //\r\n    } else {\r\n      _floatinPopup.classList.add('input-focus');\r\n    }\r\n  }\r\n  // ++ modal 팝업\r\n  function inputFocusEvtModal() {\r\n    // let modalPopup = document.querySelector('.c-layer-popup.kmi-popup.show');\r\n    // if (modalPopup) {\r\n    //   modalPopup.classList.add('input-focus');\r\n    //   this.addEventListener('blur', () => {\r\n    //     modalPopup.classList.remove('input-focus');\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  /**\r\n   * #container scroll event\r\n   */\r\n  const CONTAINER_ELEM = document.querySelector('#container');\r\n  if (CONTAINER_ELEM) {\r\n    const FLEX_ELEM = CONTAINER_ELEM.querySelector('.flex-wrap');\r\n    if (!FLEX_ELEM.classList.contains('type-tab-scroll')) {\r\n      const MOVE_HEADER = CONTAINER_ELEM.querySelector('.header.co-header');\r\n      if (MOVE_HEADER) containerScrollEvent(MOVE_HEADER, CONTAINER_ELEM);\r\n    } else if (FLEX_ELEM.classList.contains('type-tab-scroll')) {\r\n      const MOVE_HEADER = CONTAINER_ELEM.querySelector('.header.co-header');\r\n      if (MOVE_HEADER) containerTabScrollEvent(MOVE_HEADER, CONTAINER_ELEM);\r\n    }\r\n    // custom 스크롤바 만들기\r\n    customScrollbar(CONTAINER_ELEM);\r\n  }\r\n  function containerScrollEvent(_moveHeader, _scrollEl) {\r\n    let headerHeight = _moveHeader.clientHeight;\r\n    let lastScrollTop = 0;\r\n    let scrollArr = [];\r\n    var isScrolling;\r\n\r\n    const BTN_BOTTOM_FLOATING = _scrollEl.querySelector('.btn-bottom-floating');\r\n    const CONTAINER_FOOTER = _scrollEl.querySelector('.footer');\r\n    const FLOATING_BLOCK_ARR = ['rv-block', 'rc-block'];\r\n    if (BTN_BOTTOM_FLOATING) {\r\n      const MARGIN_EL = BTN_BOTTOM_FLOATING.previousSibling.previousElementSibling;\r\n      if (MARGIN_EL) MARGIN_EL.style.marginBottom = '3.75rem';\r\n      FLOATING_BLOCK_ARR.map((el) => {\r\n        let blockEl = document.querySelector('.' + el);\r\n        if (blockEl) blockEl.classList.add('type-floating-btn');\r\n      });\r\n\r\n      if (CONTAINER_FOOTER) floatingBtnComn(_scrollEl, CONTAINER_FOOTER);\r\n      else floatingBtnComn(_scrollEl);\r\n    }\r\n\r\n    // move top button\r\n    const MOVE_TOP_BTN_ELEM = document.querySelector('.btn-move-top');\r\n    _scrollEl.addEventListener(\r\n      'scroll',\r\n      function (e) {\r\n        if (this.scrollTop > headerHeight) {\r\n          let st = this.pageYOffset || this.scrollTop;\r\n\r\n          if (st > lastScrollTop) {\r\n            // SCROLL: DOWN\r\n            // console.log('SCROLL DOWN');\r\n\r\n            _moveHeader.classList.add('scroll-hide');\r\n            if (document.querySelector('.flex-wrap').classList.contains('type-tab-scroll')) {\r\n              _moveHeader.classList.remove('scroll-hide');\r\n            }\r\n            // _moveHeader.classList.add('scroll-hide');\r\n            //}\r\n          } else {\r\n            // SCROLL: UP\r\n            scrollArr.push(st);\r\n            window.clearTimeout(isScrolling);\r\n            isScrolling = setTimeout(function () {\r\n              scrollArr = [];\r\n            }, 66);\r\n            if (Math.max.apply(Math, scrollArr) - Math.min.apply(Math, scrollArr) > SHOW_HEADER_NUM) {\r\n              _moveHeader.classList.remove('scroll-hide');\r\n              scrollArr = [];\r\n            }\r\n          }\r\n          lastScrollTop = st <= 0 ? 0 : st;\r\n        }\r\n\r\n        if (this.scrollTop <= _moveHeader.clientHeight) {\r\n          _moveHeader.classList.remove('scroll-hide');\r\n          scrollArr = [];\r\n        }\r\n\r\n        if (MOVE_TOP_BTN_ELEM) {\r\n          if (this.scrollTop <= 0) MOVE_TOP_BTN_ELEM.classList.add('hide');\r\n          else MOVE_TOP_BTN_ELEM.classList.remove('hide');\r\n        }\r\n\r\n        // 하단 고정 버튼이 있는 경우\r\n        if (BTN_BOTTOM_FLOATING) scrollingFloatingBtn(BTN_BOTTOM_FLOATING, this, CONTAINER_FOOTER);\r\n      },\r\n      false\r\n    );\r\n  }\r\n\r\n  // [Mod 230220]\r\n  // + touch move\r\n  function containerTabScrollEvent(_moveHeader, _scrollEl) {\r\n    let headerHeight = _moveHeader.clientHeight;\r\n    let lastScrollTop = 0;\r\n    let scrollArr = [];\r\n    var isScrolling;\r\n\r\n    const BTN_BOTTOM_FLOATING = _scrollEl.querySelector('.btn-bottom-floating');\r\n    const CONTAINER_FOOTER = _scrollEl.querySelector('.footer');\r\n    const FLOATING_BLOCK_ARR = ['rv-block', 'rc-block'];\r\n    if (BTN_BOTTOM_FLOATING) {\r\n      const MARGIN_EL = BTN_BOTTOM_FLOATING.previousSibling.previousElementSibling;\r\n      if (MARGIN_EL) MARGIN_EL.style.marginBottom = '3.75rem';\r\n      FLOATING_BLOCK_ARR.map((el) => {\r\n        let blockEl = document.querySelector('.' + el);\r\n        if (blockEl) blockEl.classList.add('type-floating-btn');\r\n      });\r\n\r\n      if (CONTAINER_FOOTER) floatingBtnComn(_scrollEl, CONTAINER_FOOTER);\r\n      else floatingBtnComn(_scrollEl);\r\n    }\r\n\r\n    // move top button\r\n    const MOVE_TOP_BTN_ELEM = document.querySelector('.btn-move-top');\r\n    _scrollEl.addEventListener(\r\n      'touchmove',\r\n      function (e) {\r\n        let SHOW_HEADER_NUM = '10';\r\n        if (this.scrollTop > headerHeight) {\r\n          let st = this.pageYOffset || this.scrollTop; // 현재 위치\r\n\r\n          if (st > lastScrollTop) {\r\n            // SCROLL: DOWN\r\n            // console.log('touch move scroll down');\r\n\r\n            _moveHeader.classList.add('scroll-hide');\r\n          } else {\r\n            // SCROLL: UP\r\n            scrollArr.push(st);\r\n\r\n            window.clearTimeout(isScrolling);\r\n            isScrolling = setTimeout(function () {\r\n              scrollArr = [];\r\n            }, 66);\r\n\r\n            if (Math.max.apply(Math, scrollArr) - Math.min.apply(Math, scrollArr) > SHOW_HEADER_NUM) {\r\n              _moveHeader.classList.remove('scroll-hide');\r\n\r\n              scrollArr = [];\r\n            }\r\n          }\r\n          lastScrollTop = st <= 0 ? 0 : st;\r\n        }\r\n\r\n        // if (this.scrollTop <= _moveHeader.clientHeight) {\r\n        //   _moveHeader.classList.remove('scroll-hide');\r\n        //   scrollArr = [];\r\n        // }\r\n\r\n        if (MOVE_TOP_BTN_ELEM) {\r\n          if (this.scrollTop <= 0) MOVE_TOP_BTN_ELEM.classList.add('hide');\r\n          else MOVE_TOP_BTN_ELEM.classList.remove('hide');\r\n        }\r\n\r\n        // 하단 고정 버튼이 있는 경우\r\n        if (BTN_BOTTOM_FLOATING) scrollingFloatingBtn(BTN_BOTTOM_FLOATING, this, CONTAINER_FOOTER);\r\n      },\r\n      false\r\n    );\r\n  }\r\n\r\n  function floatingBtnComn(_scrollBody, ..._footer) {\r\n    if (_footer.length > 0) {\r\n      // console.log(_scrollBody.scrollHeight);\r\n      // console.log(_scrollBody.clientHeight + _footer[0].clientHeight + INVERTED);\r\n      if (_scrollBody.scrollHeight > _scrollBody.clientHeight + _footer[0].clientHeight + INVERTED) floatingBtnInner(true, _scrollBody);\r\n      else floatingBtnInner(false, _scrollBody);\r\n    } else {\r\n      if (_scrollBody.scrollHeight > _scrollBody.clientHeight + INVERTED) floatingBtnInner(true, _scrollBody);\r\n      else floatingBtnInner(false, _scrollBody);\r\n    }\r\n  }\r\n  function floatingBtnInner(_state, _el) {\r\n    switch (_state) {\r\n      case true:\r\n        _el.classList.add('isFloatingScroll');\r\n        scrollTopFake(_el);\r\n        break;\r\n      default:\r\n        _el.classList.remove('isFloatingScroll');\r\n        break;\r\n    }\r\n  }\r\n  function scrollingFloatingBtn(_floatingBtn, _this, _footer) {\r\n    const S_HEADER = _this.querySelector('.header.co-header');\r\n    const S_BTN = _this.querySelector('.btn-bottom-floating');\r\n    if (elTopArr.length < 10) {\r\n      elTopArr.push(_floatingBtn.offsetTop);\r\n      elTopArr.sort(function (a, b) {\r\n        if (a > b) return 1;\r\n        if (a === b) return 0;\r\n        if (a < b) return -1;\r\n      });\r\n    }\r\n    let min = 0;\r\n    if (_this.scrollTop <= 0) {\r\n      min = Math.min.apply(Math, elTopArr);\r\n    } else {\r\n      if (S_HEADER && S_BTN) {\r\n        min = _this.clientHeight - S_HEADER.clientHeight - S_BTN.clientHeight;\r\n      }\r\n    }\r\n    elTopRes = Math.ceil(_floatingBtn.offsetTop - _this.scrollTop);\r\n    if (min > elTopRes) {\r\n      _this.classList.remove('isFloatingScroll');\r\n    } else {\r\n      if (_footer)\r\n        if (_this.scrollHeight - _this.clientHeight - INVERTED > _footer.clientHeight) _this.classList.add('isFloatingScroll');\r\n        else _this.classList.add('isFloatingScroll');\r\n    }\r\n  }\r\n  function scrollTopFake(_scrollBody) {\r\n    _scrollBody.scrollTop += 1;\r\n    _scrollBody.scrollTop -= 1;\r\n  }\r\n\r\n  // container scrollbar resize\r\n  function containerResizeScrollbar() {\r\n    const CONTAINER_ELEM = document.getElementById('container');\r\n    if (CONTAINER_ELEM) customScrollbar(CONTAINER_ELEM);\r\n  }\r\n  // container bottom floating button\r\n  function containerResizeFloatingBtn() {\r\n    elTopArr = [];\r\n    const CONTAINER_ELEM = document.getElementById('container');\r\n    if (CONTAINER_ELEM) {\r\n      const CONTAINER_HEADER = CONTAINER_ELEM.querySelector('.header.co-header');\r\n      const CONTAINER_BTN = document.querySelector('.btn-bottom-floating');\r\n      if (CONTAINER_HEADER && CONTAINER_BTN) {\r\n        if (CONTAINER_ELEM.scrollHeight > CONTAINER_ELEM.clientHeight) {\r\n          let lRes = CONTAINER_ELEM.clientHeight - CONTAINER_HEADER.clientHeight - CONTAINER_BTN.clientHeight;\r\n          let rRes = Math.ceil(CONTAINER_BTN.offsetTop - CONTAINER_ELEM.scrollTop);\r\n          if (lRes > rRes) CONTAINER_ELEM.classList.remove('isFloatingScroll');\r\n          else CONTAINER_ELEM.classList.add('isFloatingScroll');\r\n        }\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * 최상단 스크롤 이동 버튼 click event\r\n   */\r\n  const BTN_MOVE_TOP_ELEM = document.querySelector('.btn-move-top');\r\n  if (BTN_MOVE_TOP_ELEM) {\r\n    const SCROLLING_ELEM = document.getElementById('container');\r\n    if (SCROLLING_ELEM) {\r\n      if (SCROLLING_ELEM.scrollTop <= 0) BTN_MOVE_TOP_ELEM.classList.add('hide');\r\n      BTN_MOVE_TOP_ELEM.addEventListener('click', () => {\r\n        scrollToItemId(SCROLLING_ELEM.id);\r\n      });\r\n    }\r\n  }\r\n  // + pure js animate\r\n  function scrollToItemId(containerId) {\r\n    var scrollContainer = document.getElementById(containerId);\r\n\r\n    var from = scrollContainer.scrollTop;\r\n    let by = scrollContainer.scrollTop * -1;\r\n    var currentIteration = 0;\r\n    var animIterations = Math.round(60 * SCROLL_TIME);\r\n    (function scroll() {\r\n      var value = easeOutCubic(currentIteration, from, by, animIterations);\r\n      scrollContainer.scrollTop = value;\r\n      currentIteration++;\r\n      if (currentIteration < animIterations) requestAnimationFrame(scroll);\r\n    })();\r\n  }\r\n  // ++ linearEase\r\n  function linearEase(currentIteration, startValue, changeInValue, totalIterations) {\r\n    return (changeInValue * currentIteration) / totalIterations + startValue;\r\n  }\r\n  // ++ easeOutCubic\r\n  function easeOutCubic(currentIteration, startValue, changeInValue, totalIterations) {\r\n    return changeInValue * (Math.pow(currentIteration / totalIterations - 1, 3) + 1) + startValue;\r\n  }\r\n\r\n  /**\r\n   * floating tab\r\n   */\r\n  const STICKYELM = document.querySelector('.tab-floating');\r\n  if (STICKYELM) {\r\n    const scrollEl = document.querySelector('#container');\r\n    if (scrollEl) {\r\n      let tabOffsetTop = STICKYELM.offsetTop;\r\n      scrollEl.addEventListener('scroll', () => {\r\n        stickyElComn(STICKYELM, tabOffsetTop);\r\n      });\r\n    }\r\n  }\r\n  function stickyElComn(_el, _top) {\r\n    // scrolling\r\n    let tabOffsetTopScroll = _el.offsetTop;\r\n    if (tabOffsetTopScroll <= _top) _el.classList.remove('isScroll');\r\n    else _el.classList.add('isScroll');\r\n  }\r\n\r\n  /**\r\n   * custom scrollbar\r\n   */\r\n  // common formula\r\n  // + popup: modal header\r\n  let scrollElHeight = (_body, _header) => parseFloat(_body.clientHeight - _header.clientHeight - 20) + 'px';\r\n  let scrollStyleTop = (_header) => parseFloat(_header.clientHeight) + 'px';\r\n  let innerStyleHeight = (_body, _header) => (_body.clientHeight - _header.clientHeight) * ((_body.clientHeight - _header.clientHeight) / (_body.scrollHeight - _header.clientHeight)) + 'px';\r\n  // + popup: full\r\n  let innerStyleHeightFull = (_body, _header) => (_body.clientHeight - _header.clientHeight) * ((_body.clientHeight - _header.clientHeight) / (_body.scrollHeight - _header.clientHeight)) + 'px';\r\n  // + popup: full footer\r\n  let innerStyleHeightFooter = (_body, _header) => (_body.clientHeight - _header.clientHeight) * ((_body.clientHeight - _header.clientHeight) / (_body.scrollHeight - _header.clientHeight)) + 'px';\r\n  // + container\r\n  let scrollElHeightCon = (_body) => _body.clientHeight - 24 + 'px';\r\n  let innerStyleHeightCon = (_body) => (_body.clientHeight * _body.clientHeight) / _body.scrollHeight + 'px';\r\n  // common create scrollbar\r\n  function customScrollbar(_elem, ..._state) {\r\n    if (_state.length > 0) {\r\n      // popup - modal: .modal-field\r\n      if (_state[0] === 'modal') scrollDesignPopModalHeader(_elem);\r\n      // popup - full: .full-body\r\n      if (_state[0] === 'full') scrollDesignPopFullLayer(_elem);\r\n      // popup - full-footer: c-container\r\n      if (_state[0] === 'full-footer') scrollDesignPopFullFooter(_elem);\r\n    } else {\r\n      // container\r\n      scrollDesignContainer(_elem);\r\n    }\r\n  }\r\n  // container\r\n  function scrollDesignContainer(_container) {\r\n    const CUSTOMER_SCROLL = _container.querySelector('.kmi-scroll');\r\n    if (CUSTOMER_SCROLL) {\r\n      const CUSTOMER_SCROLL_INNER = CUSTOMER_SCROLL.querySelector('span');\r\n      if (CUSTOMER_SCROLL_INNER) addStyle('container', CUSTOMER_SCROLL, CUSTOMER_SCROLL_INNER, _container);\r\n    } else {\r\n      scrollbarCreate(_container);\r\n    }\r\n  }\r\n  // popup: full\r\n  function scrollDesignPopFullLayer(_elem) {\r\n    const POPUP_SCROLL_ELEM = _elem.querySelector('.c-container');\r\n    if (POPUP_SCROLL_ELEM) {\r\n      const POPUP_HEADER = POPUP_SCROLL_ELEM.querySelector('.full-header');\r\n      const POPUP_BODY = POPUP_SCROLL_ELEM.querySelector('.full-body');\r\n      const CUSTOMER_SCROLL = POPUP_SCROLL_ELEM.querySelector('.kmi-scroll');\r\n      if (POPUP_HEADER && POPUP_BODY) fullLayerScrollbarComn(POPUP_BODY, CUSTOMER_SCROLL, POPUP_HEADER);\r\n    }\r\n  }\r\n  // popup: full footer\r\n  function scrollDesignPopFullFooter(_elem) {\r\n    const POPUP_SCROLL_ELEM = _elem.querySelector('.c-container');\r\n    if (POPUP_SCROLL_ELEM) {\r\n      const POPUP_HEADER = POPUP_SCROLL_ELEM.querySelector('.full-header');\r\n      const POPUP_BODY = POPUP_SCROLL_ELEM.querySelector('.full-body');\r\n      const CUSTOMER_SCROLL = POPUP_SCROLL_ELEM.querySelector('.kmi-scroll');\r\n      if (POPUP_HEADER && POPUP_BODY) fullLayerScrollbarComn(POPUP_SCROLL_ELEM, CUSTOMER_SCROLL, POPUP_HEADER);\r\n    }\r\n  }\r\n  // popup: modal header\r\n  function scrollDesignPopModalHeader(_elem) {\r\n    const POPUP_SCROLL_ELEM = _elem.querySelector('.modal-field');\r\n    if (POPUP_SCROLL_ELEM) {\r\n      const POPUP_HEADER = POPUP_SCROLL_ELEM.querySelector('.c-modal-header');\r\n      const POPUP_BODY = POPUP_SCROLL_ELEM.querySelector('.c-modal-body');\r\n      const CUSTOMER_SCROLL = POPUP_SCROLL_ELEM.querySelector('.kmi-scroll');\r\n      if (POPUP_HEADER && POPUP_BODY) modalHeaderScrollbarComn(POPUP_SCROLL_ELEM, CUSTOMER_SCROLL, POPUP_HEADER);\r\n    }\r\n  }\r\n  // popup: modal header + footer\r\n  function scrollDesignPopModalHeaderFooter(_elem) {\r\n    const POPUP_SCROLL_ELEM = _elem.querySelector('.modal-field.type02');\r\n    if (POPUP_SCROLL_ELEM) {\r\n      const POPUP_HEADER = POPUP_SCROLL_ELEM.querySelector('.c-modal-header');\r\n      const POPUP_BODY = POPUP_SCROLL_ELEM.querySelector('.c-modal-body');\r\n      const CUSTOMER_SCROLL = POPUP_SCROLL_ELEM.querySelector('.kmi-scroll');\r\n      if (POPUP_HEADER && POPUP_BODY) modalHeaderScrollbarComn(POPUP_SCROLL_ELEM, CUSTOMER_SCROLL, POPUP_HEADER);\r\n    }\r\n  }\r\n  // + modal heder create scrollbar comn\r\n  function modalHeaderScrollbarComn(_wrap, _scrollEl, _header) {\r\n    if (_scrollEl) {\r\n      const CUSTOMER_SCROLL_INNER = _scrollEl.querySelector('span');\r\n      // add style\r\n      if (CUSTOMER_SCROLL_INNER) addStyle('modal', _scrollEl, CUSTOMER_SCROLL_INNER, _wrap, _header);\r\n    } else {\r\n      // create element\r\n      scrollbarCreate(_wrap, _header);\r\n    }\r\n    // scroll event: isScroll check\r\n    popupModalHeaderScrollEvt(_wrap, _header);\r\n  }\r\n  // + full layer create scrollbar comn\r\n  function fullLayerScrollbarComn(_wrap, _scrollEl, _header) {\r\n    if (_scrollEl) {\r\n      const CUSTOMER_SCROLL_INNER = _scrollEl.querySelector('span');\r\n      if (CUSTOMER_SCROLL_INNER) {\r\n        // add style\r\n        addStyle('full', _scrollEl, CUSTOMER_SCROLL_INNER, _wrap, _header);\r\n      }\r\n    } else {\r\n      // create element\r\n      scrollbarCreate(_wrap, _header);\r\n    }\r\n  }\r\n  // ++ create element\r\n  function scrollbarCreate(_scrollEl, _popHeader) {\r\n    let scrollEl = document.createElement('div');\r\n    let scrollInner = document.createElement('span');\r\n    scrollEl.classList.add('kmi-scroll');\r\n    scrollEl.setAttribute('aria-hidden', true);\r\n    scrollEl.appendChild(scrollInner);\r\n    _scrollEl.appendChild(scrollEl);\r\n\r\n    // add style\r\n    // modal\r\n    if (scrollEl.closest('.type-modal')) {\r\n      addStyle('modal', scrollEl, scrollInner, _scrollEl, _popHeader);\r\n    }\r\n    // full\r\n    else if (scrollEl.closest('.type-full')) {\r\n      addStyle('full', scrollEl, scrollInner, _scrollEl, _popHeader);\r\n    }\r\n    // full-footer\r\n    else if (scrollEl.closest('.type-full-footer')) {\r\n      addStyle('full-footer', scrollEl, scrollInner, _scrollEl, _popHeader);\r\n    }\r\n    // container\r\n    else {\r\n      addStyle('container', scrollEl, scrollInner, _scrollEl);\r\n    }\r\n  }\r\n  function addStyle(_type, _scrollEl, _scrollInner, _popScrollEl, _popHeader) {\r\n    setTimeout(() => {\r\n      if (_type === 'modal') {\r\n        _scrollEl.style.height = scrollElHeight(_popScrollEl, _popHeader);\r\n        _scrollEl.style.top = scrollStyleTop(_popHeader);\r\n        _scrollInner.style.height = innerStyleHeight(_popScrollEl, _popHeader);\r\n      }\r\n      if (_type === 'full') {\r\n        _scrollInner.style.height = innerStyleHeightFull(_popScrollEl, _popHeader);\r\n      }\r\n      if (_type === 'full-footer') {\r\n        _scrollInner.style.height = innerStyleHeightFooter(_popScrollEl, _popHeader);\r\n      }\r\n      if (_type === 'container') {\r\n        _scrollEl.style.height = scrollElHeightCon(_popScrollEl);\r\n        _scrollInner.style.height = innerStyleHeightCon(_popScrollEl);\r\n      }\r\n\r\n      // scroll event\r\n      scrollDesignScrollEvt(_type, _popScrollEl, _scrollEl, _scrollInner);\r\n    }, INTERVAL_1);\r\n  }\r\n  // +++ scroll event\r\n  function scrollDesignScrollEvt(_type, _sclBody, _sclBar, _sclThum) {\r\n    let sclBarTop = parseInt(_sclBar.style.top);\r\n    let isScrolling;\r\n    _sclBody.addEventListener('scroll', function () {\r\n      if (this.scrollTop > 0) {\r\n        if (_type === 'modal') _sclBar.style.top = parseFloat(sclBarTop + this.scrollTop) + 'px';\r\n        _sclBar.classList.add('show');\r\n        _sclThum.style.top = this.scrollTop / ((this.scrollHeight - this.clientHeight + _sclBar.clientHeight) / 100) + '%';\r\n      } else {\r\n        if (_type === 'modal') _sclBar.style.top = sclBarTop + 'px';\r\n        _sclThum.style.top = '0';\r\n      }\r\n      // scroll stop event\r\n      window.clearTimeout(isScrolling);\r\n      isScrolling = setTimeout(function () {\r\n        if (_sclBar.classList.contains('show')) _sclBar.classList.remove('show');\r\n      }, INTERVAL_1000);\r\n    });\r\n  }\r\n}\r\n"],"mappings":"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"}