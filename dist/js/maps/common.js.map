{"version":3,"file":"../common.js","names":["window","addEventListener","fullPopupState","TAB_EL","document","querySelectorAll","length","i","tabEl","altEl","j","ipt","querySelector","k","innerText","activeTab","classList","remove","AC","getAttribute","activeAC","add","POPUP_ELEM","popupStyle","POPUP_BTN_ELEM","TARGET","CURRENT_POPUP","getElementById","setAttribute","popupState","popupStateCheck","focusFirstBtn","fullPopupScrollHeightChk","fullPopupScrollChk","POPUP_BG_ELEM","setTimeout","POPUP_CLOSE_ELEM","closest","focusCloseState","_popState","popCase","contains","_elem","_state","style","top","zIndex","visibility","innerHeight","winHeight","FULL_HEADER","FULL_BODY","FULL_FOOTER","computedStyle","getComputedStyle","bodyPb","parseFloat","paddingBottom","hHeight","offsetHeight","bHeight","scrollHeight","fHeight","hRes","SCROLL_ELEM","FOOTER","sHeight","clientHeight","fhHeight","fbHeight","ffHeight","console","log","leftRes","rightRes","scrollTop","SCROLL_BODY","footerHeight","fullFooterHeight","focus_el","Object","focus","FOCUS_ELEM","id","FULL_POPUP_ELEM"],"sources":["common.js"],"sourcesContent":["'use strict';\r\n\r\n// = Common\r\n\r\n/**\r\n * resize event\r\n*/\r\nwindow.addEventListener('resize', function(){\r\n  // full popup이 있을 경우 하단 버튼 scroll 체크\r\n  fullPopupState();\r\n});\r\n\r\n/**\r\n * tab 접근성\r\n * tab list의 aria-controls와 같은 aria-labelledby panel을 보여줌\r\n*/\r\nconst TAB_EL = document.querySelectorAll('ul.c-tab');\r\nif (TAB_EL.length > 0) {\r\n  for (let i = 0; i < TAB_EL.length; i++) {\r\n    let tabEl = TAB_EL[i].querySelectorAll('li');\r\n    let altEl = TAB_EL[i].querySelectorAll('.skip');\r\n    if (tabEl.length > 0) {\r\n      for (let j = 0; j < tabEl.length; j++) {\r\n        let ipt = tabEl[j].querySelector('input[type=\"radio\"]');\r\n        if (ipt) {\r\n          ipt.addEventListener('click', () => {\r\n            if (altEl) {\r\n              for (let k = 0; k < tabEl.length; k++) {\r\n                altEl[k].innerText = '선택안됨';\r\n              }\r\n              altEl[j].innerText = '선택됨';\r\n            }\r\n            let activeTab = document.querySelector('.tab-panel.show');\r\n            if (activeTab) activeTab.classList.remove('show');\r\n            let AC = tabEl[j].getAttribute('aria-controls');\r\n            if (AC) {\r\n              let activeAC = document.querySelector('[aria-labelledby=' + AC + ']');\r\n              if (activeAC) activeAC.classList.add('show');\r\n            }\r\n          });\r\n        }\r\n      }\r\n      \r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * popup\r\n*/\r\n// 화면에 팝업이 있을 경우 공통 스타일 적용\r\nconst POPUP_ELEM = document.querySelectorAll('.c-layer-popup');\r\nif (POPUP_ELEM.length > 0) {\r\n  for (let i = 0; i < POPUP_ELEM.length; i++) {\r\n    // style\r\n    popupStyle(POPUP_ELEM[i], 'hide');\r\n  }\r\n}\r\n// 팝업 열림\r\nconst POPUP_BTN_ELEM = document.querySelectorAll('.btn-open-popup');\r\nif (POPUP_BTN_ELEM.length > 0) {\r\n  for (let i = 0; i < POPUP_BTN_ELEM.length; i++) {\r\n    // popup open button - click event\r\n    POPUP_BTN_ELEM[i].addEventListener('click', () => {\r\n      const TARGET = POPUP_BTN_ELEM[i].getAttribute('data-target');\r\n      const CURRENT_POPUP = document.getElementById(TARGET);\r\n      CURRENT_POPUP.classList.add('show');\r\n      CURRENT_POPUP.setAttribute('aria-hidden', false);\r\n      \r\n      // 팝업 종류 체크\r\n      let popupState = popupStateCheck(CURRENT_POPUP);\r\n      \r\n      // 접근성\r\n      focusFirstBtn(popupState, CURRENT_POPUP);\r\n\r\n      // style\r\n      popupStyle(CURRENT_POPUP, 'show');\r\n\r\n      // full popup scroll height check\r\n      fullPopupScrollHeightChk(popupState, CURRENT_POPUP);\r\n      \r\n      // full popup scroll check\r\n      fullPopupScrollChk(popupState, CURRENT_POPUP);\r\n\r\n      // popup background - click event\r\n      const POPUP_BG_ELEM = document.querySelectorAll('.popup-bg');\r\n      if (POPUP_BG_ELEM.length > 0) {\r\n        for (let j = 0; j < POPUP_BG_ELEM.length; j++) {\r\n          POPUP_BG_ELEM[j].addEventListener('click', () => {\r\n            // 팝업 닫힘\r\n            CURRENT_POPUP.classList.remove('show');\r\n            CURRENT_POPUP.setAttribute('aria-hidden', true);\r\n            // style - 사라지는 animation을 위해 setTimeout 사용\r\n            setTimeout(() => {popupStyle(CURRENT_POPUP, 'hide')}, 200);\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n// 팝업 닫힘 - 닫힘버튼 class: popup-btn-close\r\nconst POPUP_CLOSE_ELEM = document.querySelectorAll('.popup-btn-close');\r\nif (POPUP_CLOSE_ELEM.length > 0) {\r\n  for (let i = 0; i < POPUP_CLOSE_ELEM.length; i++) {\r\n    // popup close button - click event\r\n    POPUP_CLOSE_ELEM[i].addEventListener('click', () => {\r\n      const TARGET = \r\n        POPUP_CLOSE_ELEM[i].closest('.c-layer-popup') ||\r\n        POPUP_CLOSE_ELEM[i].closest('.c-full-layer');\r\n\r\n      TARGET.classList.remove('show');\r\n      TARGET.setAttribute('aria-hidden', true);\r\n      // style - 사라지는 animation을 위해 setTimeout 사용\r\n      setTimeout(() => {\r\n        popupStyle(TARGET, 'hide');\r\n        focusCloseState(TARGET);\r\n      }, 200);\r\n    });\r\n  }\r\n}\r\n\r\n\r\n// 팝업 종류 체크\r\nfunction popupStateCheck(_popState) {\r\n  let popCase = _popState.classList;\r\n  if (popCase.contains('c-full-layer') && popCase.contains('type-footer')) {\r\n    // 푸터 있는 풀팝업: full-footer\r\n    return 'full-footer';\r\n  } else if (popCase.contains('c-full-layer')) {\r\n    // 푸터 없는 풀팝업: full\r\n    return 'full';\r\n  } else if (popCase.contains('c-layer-popup')) {\r\n    // 모달 팝업: modal\r\n    return 'modal';\r\n  }\r\n}\r\n\r\n\r\n\r\n// 팝업 style - top, z-index, visibility\r\nfunction popupStyle(_elem, _state) {\r\n  switch (_state) {\r\n    case 'show':\r\n      _elem.style.top = 0;\r\n      _elem.style.zIndex = '2000';\r\n      _elem.style.visibility = 'visible';\r\n      break;\r\n    case 'hide':\r\n      _elem.style.top = window.innerHeight + 'px';\r\n      _elem.style.zIndex = '-1';\r\n      _elem.style.visibility = 'hidden';\r\n      break;\r\n    default:\r\n      _elem.style.top = window.innerHeight + 'px';\r\n      _elem.style.zIndex = '-1';\r\n      _elem.style.visibility = 'hidden';\r\n      break;\r\n  }\r\n}\r\n// 풀팝업 스크롤 height 체크\r\nfunction fullPopupScrollHeightChk(_state, _elem) {\r\n  let winHeight = window.innerHeight;\r\n  if (_state === 'full') {\r\n    const FULL_HEADER = _elem.querySelector('.full-header');\r\n    const FULL_BODY = _elem.querySelector('.full-body');\r\n    const FULL_FOOTER = _elem.querySelector('.full-footer');\r\n    if (FULL_HEADER && FULL_BODY && FULL_FOOTER) {\r\n      let computedStyle = getComputedStyle(FULL_BODY);\r\n      let bodyPb = parseFloat(computedStyle.paddingBottom);\r\n      let hHeight = FULL_HEADER.offsetHeight;\r\n      let bHeight = FULL_BODY.scrollHeight;\r\n      let fHeight = FULL_FOOTER.offsetHeight;\r\n      let hRes = winHeight - hHeight - fHeight;\r\n      // console.log(parseFloat(computedStyle.paddingBottom));\r\n      if (bHeight > hRes) {\r\n        FULL_FOOTER.classList.add('scroll');\r\n      } else {\r\n        FULL_FOOTER.classList.remove('scroll');\r\n      }\r\n    }\r\n  }\r\n\r\n  if (_state === 'full-footer') {\r\n    const SCROLL_ELEM = document.querySelector('.c-full-layer.type-footer.show');\r\n    const FULL_HEADER = _elem.querySelector('.full-header');\r\n    const FULL_BODY = _elem.querySelector('.full-body');\r\n    const FULL_FOOTER = _elem.querySelector('.full-footer');\r\n    const FOOTER = _elem.querySelector('.footer.type-default');\r\n\r\n    if (SCROLL_ELEM && FULL_HEADER && FULL_BODY && FULL_FOOTER && FOOTER) {\r\n      // let computedStyle = getComputedStyle(FULL_BODY);\r\n      // let bodyPb = parseFloat(computedStyle.paddingBottom);\r\n      // let winHeight = window.innerHeight;\r\n      // let hHeight = FULL_HEADER.offsetHeight;\r\n      // let bHeight = FULL_BODY.scrollHeight;\r\n      // let fHeight = FULL_FOOTER.offsetHeight;\r\n      // let hRes = winHeight - hHeight - fHeight;\r\n      let sHeight = parseFloat(SCROLL_ELEM.clientHeight);\r\n      let fhHeight = parseFloat(FULL_HEADER.clientHeight);\r\n      let fbHeight = parseFloat(FULL_BODY.clientHeight);\r\n      let ffHeight = parseFloat(FULL_FOOTER.clientHeight);\r\n      let fHeight = parseFloat(FOOTER.clientHeight);\r\n      let hRes = winHeight - fhHeight - ffHeight - fHeight;\r\n      console.log('hRes : ', hRes);\r\n      console.log('fbHeight : ', fbHeight);\r\n      if (hRes > fbHeight) {\r\n        FULL_FOOTER.classList.remove('scroll');\r\n      } else {\r\n        FULL_FOOTER.classList.add('scroll');\r\n      }\r\n    }\r\n  }\r\n}\r\n// 풀팝업 스크롤 체크\r\nfunction fullPopupScrollChk(_state, _elem) {\r\n  const FULL_FOOTER = _elem.querySelector('.full-footer');\r\n  let leftRes = 0;\r\n  let rightRes = 0;\r\n  if (_state === 'full') {\r\n    const FULL_BODY = _elem.querySelector('.full-body');\r\n    if (FULL_BODY) {\r\n      // .full-body scroll event\r\n      FULL_BODY.addEventListener('scroll', () => {\r\n        if (FULL_FOOTER) {\r\n          // FULL_FOOTER.style.transition = 'padding .1s ease-in-out';\r\n          leftRes = FULL_BODY.offsetHeight + FULL_BODY.scrollTop;\r\n          rightRes = FULL_BODY.scrollHeight;\r\n          if (leftRes < rightRes) {\r\n            FULL_FOOTER.classList.add('scroll');\r\n          }\r\n          if (leftRes >= rightRes) {\r\n            FULL_FOOTER.classList.remove('scroll');\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  if (_state === 'full-footer') {\r\n    const SCROLL_BODY = _elem.querySelector('.c-container');\r\n    const FULL_BODY = _elem.querySelector('.full-body');\r\n    const FULL_FOOTER = _elem.querySelector('.full-footer');\r\n    const FOOTER = _elem.querySelector('.footer.type-default');\r\n    if (SCROLL_BODY && FULL_BODY && FULL_FOOTER && FOOTER) {\r\n      let footerHeight = parseFloat(FOOTER.clientHeight);\r\n      let fullFooterHeight = parseFloat(FULL_FOOTER.clientHeight);\r\n      // .c-full-layer.type-footer.show scroll event\r\n      SCROLL_BODY.addEventListener('scroll', () => {\r\n        leftRes = SCROLL_BODY.offsetHeight + SCROLL_BODY.scrollTop;\r\n        rightRes = SCROLL_BODY.scrollHeight - footerHeight - fullFooterHeight;\r\n\r\n        if (FULL_FOOTER) {\r\n          if (leftRes < rightRes) {\r\n            FULL_FOOTER.classList.add('scroll');\r\n          }\r\n          if (leftRes >= rightRes) {\r\n            FULL_FOOTER.classList.remove('scroll');\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n// 팝업 - 접근성\r\n// basic type 이면 X 버튼에 focus 시키기\r\n// full type 이면 뒤로가기 버튼에 focus 시키기\r\nfunction focusFirstBtn(_state, _elem) {\r\n  setTimeout(() => {\r\n    let focus_el = new Object();\r\n    if (_state === 'full-footer' || _state === 'full') {\r\n      focus_el =  _elem.querySelectorAll('.btn-go-back');\r\n    } else if (_elem.classList.contains('c-layer-popup')) {\r\n      focus_el =  _elem.querySelectorAll('.popup-btn-close');\r\n    }\r\n    if (focus_el) {\r\n      setTimeout(() => { focus_el[0].focus() }, 1);\r\n    }\r\n  }, 1);\r\n}\r\n// 팝업 - 접근성 - 팝업 닫을 때 열었던 버튼에 focus 시키기\r\nfunction focusCloseState(_elem) {\r\n  setTimeout(() => {\r\n    const FOCUS_ELEM = document.querySelector(`[data-target=\"${_elem.id}\"]`);\r\n    if (FOCUS_ELEM) FOCUS_ELEM.focus();\r\n  }, 1);\r\n}\r\n// DOM에 풀팝업이 있을 경우 \r\nfunction fullPopupState() {\r\n  const FULL_POPUP_ELEM = document.querySelector('.c-full-layer.show');\r\n  if (FULL_POPUP_ELEM) {\r\n    fullPopupScrollHeightChk('full', FULL_POPUP_ELEM);\r\n  }\r\n}\r\n"],"mappings":"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"}