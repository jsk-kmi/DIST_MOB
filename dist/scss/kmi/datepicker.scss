// datepicker

// + common variable
$colors: (selected: $color-sub-02, holiday: $color-sub-03, disabled: $color-black-20);
// datepicker reset
.ui-widget {
  font-family: $font-name;
}
// + datepicker
#c-datepicker {
  &.hasDatepicker {
    .ui-datepicker-inline {
      padding: {
        top: 0;
        right: 0.5rem;
        bottom: 0.75rem;
        left: 0.5rem;
      }
      width: 100%;
      border: 0 none;
      border-radius: 0;
      .ui-datepicker-header {
        @include coTxtTitleHeadingLarge;
        color: $color-main;
        padding: 0;
        margin: 0 auto;
        text-align: center;
        border-radius: 0;
        border: 0 none;
        background-color: transparent;
        display: flex;
        align-items: center;
        justify-content: center;
        .ui-datepicker-prev,
        .ui-datepicker-next {
          width: 2.125rem;
          height: 2.125rem;
          position: relative;
          right: auto;
          left: auto;
          top: 0;
          display: inline-block;
          .ui-icon {
            width: 2.125rem;
            height: 2.125rem;
            left: 0;
            top: 0;
            margin: 0;
            background-size: 2.125rem 2.125rem;
            background-position: center center;
            background-repeat: no-repeat;
          }
          &:hover {
            background-color: transparent;
            border: 0 none;
          }
        }
        .ui-datepicker-prev {
          margin-right: 0.5rem;
          .ui-icon {
            background-image: url('../../images/ico/datepicker/ico_arrow_year_prev_34x34.svg');
          }
        }
        .ui-datepicker-next {
          margin-left: 0.5rem;
          .ui-icon {
            background-image: url('../../images/ico/datepicker/ico_arrow_year_next_34x34.svg');
          }
        }
        .ui-datepicker-title {
          @include coTxtTitleHeadingSmall;
          margin: 0;
          a,
          a span {
            color: $color-main;
            display: inline-block;
          }
          .ui-datepicker-month {
            margin-left: 0.5rem;
          }
          a {
            &.ui-datepicker-title {
              span {
                color: $color-black-40; 
                display: inline-block;
                margin: 0 0.5rem;
              }
            }
          }
        }
      }
      table {
        border-spacing: 0;
        td {
          position: relative;
        }
      }
      .ui-datepicker-calendar {
        margin: 0.625rem 0 0 0;
        thead tr th,
        tbody tr td,
        tbody tr td a {
          @include coTxtBody;
          color: $color-black-80;
          text-align: center;
        }
        thead tr th,
        tbody tr td a {
          padding: 0.625rem 0;
        }
        thead {
          tr {
            th {
              &.ui-datepicker-week-end {
                color: $color-sub-03;
                & ~ .ui-datepicker-week-end {
                  color: $color-black-80;
                }
              }
            }
          }
        }
        tbody {
          tr {
            td {
              opacity: 1;
              padding: 0;
              width: calc(100vw / 7 - 1.5rem);
              .ui-state-default {
                @include coTxtBody;
                text-align: center;
                border: 0 none;
                box-sizing: border-box;
                background-color: transparent;
                color: $color-black-80;
              }
              &.ui-datepicker-current-day {
                .ui-state-default {
                  box-shadow: 0 0 0 0.1875rem $color-sub-02 inset; 
                  border-radius: 0.5rem;
                  color: $color-sub-02;
                }
                &.reservation-closed {
                  .ui-state-default {
                    box-shadow: none;
                  }
                }
              }
              &.ui-datepicker-today {
                position: relative;
                background-color: $color-main;
                border-radius: 0.5rem;
                .ui-state-default {
                  color: $color-white-100;
                  border: 0 none;
                }
                em {
                  position: absolute;
                  display: block;
                  width: 100%;
                  height: 1rem;
                  left: 0;
                  bottom: 0;
                  padding: 0;
                  text-align: center;
                  font-weight: 400;
                  font-size: 0.625rem;
                  line-height: 1rem;
                  color: $color-white-100;
                }
                &.reservation-closed {
                  .ui-state-default {
                    box-shadow: none;
                  }
                }
              }
              &.holidays-before {
                .ui-state-default {
                  color: $color-black-20;
                }
              }
              &.holidays-after {
                .ui-state-default {
                  color: $color-sub-03;
                }
              }
              &.ui-datepicker-week-end {
                .ui-state-default {
                  color: $color-sub-03;
                }
                &.holidays-before {
                  .ui-state-default {
                    color: $color-black-20;
                  }
                }
                & ~ .ui-datepicker-week-end {
                  .ui-state-default {
                    color: $color-black-80;
                  }
                  &.reservation-closed {
                    .ui-state-default {
                      color: $color-black-20;
                    }
                  }
                  &.holidays-before {
                    .ui-state-default {
                      color: $color-black-20;
                    }
                  }
                  &.holidays-after {
                    .ui-state-default {
                      color: $color-sub-03;
                    }
                  }
                  &.ui-datepicker-other-month {
                    .ui-state-default {
                      color: $color-black-20;
                    }
                  }
                }
              }
              &.ui-datepicker-other-month {
                .ui-state-default {
                  color: $color-black-20;
                }
                & ~ .ui-datepicker-other-month {
                  .ui-state-default {
                    color: $color-black-20;
                  }
                }
              }
              &.reservation-closed {
                .ui-state-default {
                  color: $color-black-20;
                }
              }
            }
          }
        }
      }
      .ui-datepicker-select-month,
      .ui-datepicker-select-year {
        margin: 1.25rem 0 0 0;
        table {
          tbody {
            tr {
              td {
                opacity: 1;
                padding: 0;
                width: calc(100vw / 4 - 1.5rem);
                a {
                  @include coTxtBody;
                  color: $color-black-80;
                  text-align: center;
                  padding: 1.25rem 0;
                  border: 0 none;
                  background-color: transparent;
                }
                &.ui-datepicker-today {
                  a {
                    box-shadow: 0 0 0 0.1875rem $color-sub-02 inset; 
                    border-radius: 0.5rem;
                    color: $color-sub-02;
                  }
                }
              }
            }
          }
        }
      }
      i {
        position: absolute !important;
        left: 0 !important;
        top: 0 !important;
        width: 1px !important;
        height: 1px !important;
        font-size: 1px !important;
        line-height: 1px !important;
        opacity: 0 !important;
        color: transparent !important;
        display: block !important;
      }
    }
  }
}

// + datepicker bottom info
.c-datepicker-info {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: right;
  padding: 0 1.75rem;
  ul {
    position: relative;
    & ~ ul {
      margin-left: 1.25rem;
    }
    li {
      & ~ li {
        position: relative;
        @include coTxtLabelMedium;
        padding-left: 0.75rem;
        &::after {
          content: '';
          display: block;
          position: absolute;
          left: 0;
          top: 0.375rem;
          width: 0.5rem;
          height: 0.5rem;
          border-radius: 0.125rem;
        }
      }
    }
    @each $class, $color in $colors {
      &.is-#{$class} {
        li {
          color: #{$color};
          &::after {
            background-color: #{$color};
          }
        }
      }
    }
  }
}